function Ap(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Dp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Bd={exports:{}},Qi={},qd={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xs=Symbol.for("react.element"),Mp=Symbol.for("react.portal"),Ip=Symbol.for("react.fragment"),$p=Symbol.for("react.strict_mode"),Up=Symbol.for("react.profiler"),Fp=Symbol.for("react.provider"),zp=Symbol.for("react.context"),Bp=Symbol.for("react.forward_ref"),qp=Symbol.for("react.suspense"),Wp=Symbol.for("react.memo"),Hp=Symbol.for("react.lazy"),Fc=Symbol.iterator;function Vp(e){return e===null||typeof e!="object"?null:(e=Fc&&e[Fc]||e["@@iterator"],typeof e=="function"?e:null)}var Wd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hd=Object.assign,Vd={};function dr(e,t,n){this.props=e,this.context=t,this.refs=Vd,this.updater=n||Wd}dr.prototype.isReactComponent={};dr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jd(){}Jd.prototype=dr.prototype;function Cl(e,t,n){this.props=e,this.context=t,this.refs=Vd,this.updater=n||Wd}var Pl=Cl.prototype=new Jd;Pl.constructor=Cl;Hd(Pl,dr.prototype);Pl.isPureReactComponent=!0;var zc=Array.isArray,Kd=Object.prototype.hasOwnProperty,Tl={current:null},Qd={key:!0,ref:!0,__self:!0,__source:!0};function Gd(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Kd.call(t,r)&&!Qd.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:xs,type:e,key:i,ref:o,props:s,_owner:Tl.current}}function Jp(e,t){return{$$typeof:xs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ol(e){return typeof e=="object"&&e!==null&&e.$$typeof===xs}function Kp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bc=/\/+/g;function Mo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kp(""+e.key):t.toString(36)}function ei(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case xs:case Mp:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Mo(o,0):r,zc(s)?(n="",e!=null&&(n=e.replace(Bc,"$&/")+"/"),ei(s,t,n,"",function(u){return u})):s!=null&&(Ol(s)&&(s=Jp(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Bc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",zc(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Mo(i,l);o+=ei(i,t,n,c,s)}else if(c=Vp(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Mo(i,l++),o+=ei(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function As(e,t,n){if(e==null)return e;var r=[],s=0;return ei(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Qp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ne={current:null},ti={transition:null},Gp={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ti,ReactCurrentOwner:Tl};function Yd(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:As,forEach:function(e,t,n){As(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return As(e,function(){t++}),t},toArray:function(e){return As(e,function(t){return t})||[]},only:function(e){if(!Ol(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Component=dr;F.Fragment=Ip;F.Profiler=Up;F.PureComponent=Cl;F.StrictMode=$p;F.Suspense=qp;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gp;F.act=Yd;F.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Hd({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Tl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Kd.call(t,c)&&!Qd.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:xs,type:e.type,key:s,ref:i,props:r,_owner:o}};F.createContext=function(e){return e={$$typeof:zp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fp,_context:e},e.Consumer=e};F.createElement=Gd;F.createFactory=function(e){var t=Gd.bind(null,e);return t.type=e,t};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:Bp,render:e}};F.isValidElement=Ol;F.lazy=function(e){return{$$typeof:Hp,_payload:{_status:-1,_result:e},_init:Qp}};F.memo=function(e,t){return{$$typeof:Wp,type:e,compare:t===void 0?null:t}};F.startTransition=function(e){var t=ti.transition;ti.transition={};try{e()}finally{ti.transition=t}};F.unstable_act=Yd;F.useCallback=function(e,t){return Ne.current.useCallback(e,t)};F.useContext=function(e){return Ne.current.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e){return Ne.current.useDeferredValue(e)};F.useEffect=function(e,t){return Ne.current.useEffect(e,t)};F.useId=function(){return Ne.current.useId()};F.useImperativeHandle=function(e,t,n){return Ne.current.useImperativeHandle(e,t,n)};F.useInsertionEffect=function(e,t){return Ne.current.useInsertionEffect(e,t)};F.useLayoutEffect=function(e,t){return Ne.current.useLayoutEffect(e,t)};F.useMemo=function(e,t){return Ne.current.useMemo(e,t)};F.useReducer=function(e,t,n){return Ne.current.useReducer(e,t,n)};F.useRef=function(e){return Ne.current.useRef(e)};F.useState=function(e){return Ne.current.useState(e)};F.useSyncExternalStore=function(e,t,n){return Ne.current.useSyncExternalStore(e,t,n)};F.useTransition=function(){return Ne.current.useTransition()};F.version="18.3.1";qd.exports=F;var k=qd.exports;const fn=Lp(k),Yp=Ap({__proto__:null,default:fn},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp=k,Zp=Symbol.for("react.element"),eg=Symbol.for("react.fragment"),tg=Object.prototype.hasOwnProperty,ng=Xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rg={key:!0,ref:!0,__self:!0,__source:!0};function Xd(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)tg.call(t,r)&&!rg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Zp,type:e,key:i,ref:o,props:s,_owner:ng.current}}Qi.Fragment=eg;Qi.jsx=Xd;Qi.jsxs=Xd;Bd.exports=Qi;var a=Bd.exports,Zd={exports:{}},Be={},eh={exports:{}},th={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,I){var U=R.length;R.push(I);e:for(;0<U;){var re=U-1>>>1,de=R[re];if(0<s(de,I))R[re]=I,R[U]=de,U=re;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var I=R[0],U=R.pop();if(U!==I){R[0]=U;e:for(var re=0,de=R.length,Os=de>>>1;re<Os;){var rn=2*(re+1)-1,Do=R[rn],sn=rn+1,Rs=R[sn];if(0>s(Do,U))sn<de&&0>s(Rs,Do)?(R[re]=Rs,R[sn]=U,re=sn):(R[re]=Do,R[rn]=U,re=rn);else if(sn<de&&0>s(Rs,U))R[re]=Rs,R[sn]=U,re=sn;else break e}}return I}function s(R,I){var U=R.sortIndex-I.sortIndex;return U!==0?U:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,y=!1,v=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(R){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=R)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function x(R){if(w=!1,f(R),!v)if(n(c)!==null)v=!0,Ao(_);else{var I=n(u);I!==null&&Lo(x,I.startTime-R)}}function _(R,I){v=!1,w&&(w=!1,g(P),P=-1),y=!0;var U=m;try{for(f(I),h=n(c);h!==null&&(!(h.expirationTime>I)||R&&!D());){var re=h.callback;if(typeof re=="function"){h.callback=null,m=h.priorityLevel;var de=re(h.expirationTime<=I);I=e.unstable_now(),typeof de=="function"?h.callback=de:h===n(c)&&r(c),f(I)}else r(c);h=n(c)}if(h!==null)var Os=!0;else{var rn=n(u);rn!==null&&Lo(x,rn.startTime-I),Os=!1}return Os}finally{h=null,m=U,y=!1}}var N=!1,S=null,P=-1,L=5,E=-1;function D(){return!(e.unstable_now()-E<L)}function oe(){if(S!==null){var R=e.unstable_now();E=R;var I=!0;try{I=S(!0,R)}finally{I?Ct():(N=!1,S=null)}}else N=!1}var Ct;if(typeof p=="function")Ct=function(){p(oe)};else if(typeof MessageChannel<"u"){var Uc=new MessageChannel,Rp=Uc.port2;Uc.port1.onmessage=oe,Ct=function(){Rp.postMessage(null)}}else Ct=function(){j(oe,0)};function Ao(R){S=R,N||(N=!0,Ct())}function Lo(R,I){P=j(function(){R(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,Ao(_))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var U=m;m=I;try{return R()}finally{m=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var U=m;m=R;try{return I()}finally{m=U}},e.unstable_scheduleCallback=function(R,I,U){var re=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?re+U:re):U=re,R){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=U+de,R={id:d++,callback:I,priorityLevel:R,startTime:U,expirationTime:de,sortIndex:-1},U>re?(R.sortIndex=U,t(u,R),n(c)===null&&R===n(u)&&(w?(g(P),P=-1):w=!0,Lo(x,U-re))):(R.sortIndex=de,t(c,R),v||y||(v=!0,Ao(_))),R},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(R){var I=m;return function(){var U=m;m=I;try{return R.apply(this,arguments)}finally{m=U}}}})(th);eh.exports=th;var sg=eh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig=k,ze=sg;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nh=new Set,Gr={};function Cn(e,t){nr(e,t),nr(e+"Capture",t)}function nr(e,t){for(Gr[e]=t,e=0;e<t.length;e++)nh.add(t[e])}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xa=Object.prototype.hasOwnProperty,og=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qc={},Wc={};function ag(e){return xa.call(Wc,e)?!0:xa.call(qc,e)?!1:og.test(e)?Wc[e]=!0:(qc[e]=!0,!1)}function lg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cg(e,t,n,r){if(t===null||typeof t>"u"||lg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ee(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new Ee(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new Ee(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new Ee(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new Ee(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new Ee(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new Ee(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new Ee(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new Ee(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new Ee(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rl=/[\-:]([a-z])/g;function Al(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rl,Al);ve[t]=new Ee(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rl,Al);ve[t]=new Ee(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rl,Al);ve[t]=new Ee(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new Ee(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new Ee(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ll(e,t,n,r){var s=ve.hasOwnProperty(t)?ve[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cg(t,n,s,r)&&(n=null),r||s===null?ag(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Nt=ig.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ls=Symbol.for("react.element"),In=Symbol.for("react.portal"),$n=Symbol.for("react.fragment"),Dl=Symbol.for("react.strict_mode"),wa=Symbol.for("react.profiler"),rh=Symbol.for("react.provider"),sh=Symbol.for("react.context"),Ml=Symbol.for("react.forward_ref"),_a=Symbol.for("react.suspense"),ja=Symbol.for("react.suspense_list"),Il=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),ih=Symbol.for("react.offscreen"),Hc=Symbol.iterator;function _r(e){return e===null||typeof e!="object"?null:(e=Hc&&e[Hc]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,Io;function Lr(e){if(Io===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Io=t&&t[1]||""}return`
`+Io+e}var $o=!1;function Uo(e,t){if(!e||$o)return"";$o=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{$o=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Lr(e):""}function ug(e){switch(e.tag){case 5:return Lr(e.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 2:case 15:return e=Uo(e.type,!1),e;case 11:return e=Uo(e.type.render,!1),e;case 1:return e=Uo(e.type,!0),e;default:return""}}function ka(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $n:return"Fragment";case In:return"Portal";case wa:return"Profiler";case Dl:return"StrictMode";case _a:return"Suspense";case ja:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sh:return(e.displayName||"Context")+".Consumer";case rh:return(e._context.displayName||"Context")+".Provider";case Ml:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Il:return t=e.displayName||null,t!==null?t:ka(e.type)||"Memo";case At:t=e._payload,e=e._init;try{return ka(e(t))}catch{}}return null}function dg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ka(t);case 8:return t===Dl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hg(e){var t=oh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ds(e){e._valueTracker||(e._valueTracker=hg(e))}function ah(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=oh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sa(e,t){var n=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Yt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lh(e,t){t=t.checked,t!=null&&Ll(e,"checked",t,!1)}function ba(e,t){lh(e,t);var n=Yt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Na(e,t.type,n):t.hasOwnProperty("defaultValue")&&Na(e,t.type,Yt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Na(e,t,n){(t!=="number"||pi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Dr=Array.isArray;function Qn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Yt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ea(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(Dr(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Yt(n)}}function ch(e,t){var n=Yt(t.value),r=Yt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Qc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ca(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ms,dh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ms=Ms||document.createElement("div"),Ms.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ms.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fg=["Webkit","ms","Moz","O"];Object.keys(Ur).forEach(function(e){fg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ur[t]=Ur[e]})});function hh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ur.hasOwnProperty(e)&&Ur[e]?(""+t).trim():t+"px"}function fh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=hh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var mg=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pa(e,t){if(t){if(mg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function Ta(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oa=null;function $l(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ra=null,Gn=null,Yn=null;function Gc(e){if(e=js(e)){if(typeof Ra!="function")throw Error(C(280));var t=e.stateNode;t&&(t=eo(t),Ra(e.stateNode,e.type,t))}}function mh(e){Gn?Yn?Yn.push(e):Yn=[e]:Gn=e}function ph(){if(Gn){var e=Gn,t=Yn;if(Yn=Gn=null,Gc(e),t)for(e=0;e<t.length;e++)Gc(t[e])}}function gh(e,t){return e(t)}function yh(){}var Fo=!1;function vh(e,t,n){if(Fo)return e(t,n);Fo=!0;try{return gh(e,t,n)}finally{Fo=!1,(Gn!==null||Yn!==null)&&(yh(),ph())}}function Xr(e,t){var n=e.stateNode;if(n===null)return null;var r=eo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var Aa=!1;if(jt)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{Aa=!1}function pg(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Fr=!1,gi=null,yi=!1,La=null,gg={onError:function(e){Fr=!0,gi=e}};function yg(e,t,n,r,s,i,o,l,c){Fr=!1,gi=null,pg.apply(gg,arguments)}function vg(e,t,n,r,s,i,o,l,c){if(yg.apply(this,arguments),Fr){if(Fr){var u=gi;Fr=!1,gi=null}else throw Error(C(198));yi||(yi=!0,La=u)}}function Pn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yc(e){if(Pn(e)!==e)throw Error(C(188))}function xg(e){var t=e.alternate;if(!t){if(t=Pn(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Yc(s),e;if(i===r)return Yc(s),t;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function wh(e){return e=xg(e),e!==null?_h(e):null}function _h(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_h(e);if(t!==null)return t;e=e.sibling}return null}var jh=ze.unstable_scheduleCallback,Xc=ze.unstable_cancelCallback,wg=ze.unstable_shouldYield,_g=ze.unstable_requestPaint,se=ze.unstable_now,jg=ze.unstable_getCurrentPriorityLevel,Ul=ze.unstable_ImmediatePriority,kh=ze.unstable_UserBlockingPriority,vi=ze.unstable_NormalPriority,kg=ze.unstable_LowPriority,Sh=ze.unstable_IdlePriority,Gi=null,ft=null;function Sg(e){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Gi,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:Eg,bg=Math.log,Ng=Math.LN2;function Eg(e){return e>>>=0,e===0?32:31-(bg(e)/Ng|0)|0}var Is=64,$s=4194304;function Mr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Mr(l):(i&=o,i!==0&&(r=Mr(i)))}else o=n&~s,o!==0?r=Mr(o):i!==0&&(r=Mr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rt(t),s=1<<n,r|=e[n],t&=~s;return r}function Cg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-rt(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=Cg(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Da(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bh(){var e=Is;return Is<<=1,!(Is&4194240)&&(Is=64),e}function zo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ws(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=n}function Tg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-rt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Fl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var W=0;function Nh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Eh,zl,Ch,Ph,Th,Ma=!1,Us=[],Bt=null,qt=null,Wt=null,Zr=new Map,es=new Map,Mt=[],Og="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zc(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":Zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":es.delete(t.pointerId)}}function kr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=js(t),t!==null&&zl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Rg(e,t,n,r,s){switch(t){case"focusin":return Bt=kr(Bt,e,t,n,r,s),!0;case"dragenter":return qt=kr(qt,e,t,n,r,s),!0;case"mouseover":return Wt=kr(Wt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Zr.set(i,kr(Zr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,es.set(i,kr(es.get(i)||null,e,t,n,r,s)),!0}return!1}function Oh(e){var t=mn(e.target);if(t!==null){var n=Pn(t);if(n!==null){if(t=n.tag,t===13){if(t=xh(n),t!==null){e.blockedOn=t,Th(e.priority,function(){Ch(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ni(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ia(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Oa=r,n.target.dispatchEvent(r),Oa=null}else return t=js(n),t!==null&&zl(t),e.blockedOn=n,!1;t.shift()}return!0}function eu(e,t,n){ni(e)&&n.delete(t)}function Ag(){Ma=!1,Bt!==null&&ni(Bt)&&(Bt=null),qt!==null&&ni(qt)&&(qt=null),Wt!==null&&ni(Wt)&&(Wt=null),Zr.forEach(eu),es.forEach(eu)}function Sr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ma||(Ma=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,Ag)))}function ts(e){function t(s){return Sr(s,e)}if(0<Us.length){Sr(Us[0],e);for(var n=1;n<Us.length;n++){var r=Us[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Bt!==null&&Sr(Bt,e),qt!==null&&Sr(qt,e),Wt!==null&&Sr(Wt,e),Zr.forEach(t),es.forEach(t),n=0;n<Mt.length;n++)r=Mt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&(n=Mt[0],n.blockedOn===null);)Oh(n),n.blockedOn===null&&Mt.shift()}var Xn=Nt.ReactCurrentBatchConfig,wi=!0;function Lg(e,t,n,r){var s=W,i=Xn.transition;Xn.transition=null;try{W=1,Bl(e,t,n,r)}finally{W=s,Xn.transition=i}}function Dg(e,t,n,r){var s=W,i=Xn.transition;Xn.transition=null;try{W=4,Bl(e,t,n,r)}finally{W=s,Xn.transition=i}}function Bl(e,t,n,r){if(wi){var s=Ia(e,t,n,r);if(s===null)Yo(e,t,r,_i,n),Zc(e,r);else if(Rg(s,e,t,n,r))r.stopPropagation();else if(Zc(e,r),t&4&&-1<Og.indexOf(e)){for(;s!==null;){var i=js(s);if(i!==null&&Eh(i),i=Ia(e,t,n,r),i===null&&Yo(e,t,r,_i,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Yo(e,t,r,null,n)}}var _i=null;function Ia(e,t,n,r){if(_i=null,e=$l(r),e=mn(e),e!==null)if(t=Pn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _i=e,null}function Rh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jg()){case Ul:return 1;case kh:return 4;case vi:case kg:return 16;case Sh:return 536870912;default:return 16}default:return 16}}var Ut=null,ql=null,ri=null;function Ah(){if(ri)return ri;var e,t=ql,n=t.length,r,s="value"in Ut?Ut.value:Ut.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ri=s.slice(e,1<r?1-r:void 0)}function si(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fs(){return!0}function tu(){return!1}function qe(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fs:tu,this.isPropagationStopped=tu,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),t}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wl=qe(hr),_s=te({},hr,{view:0,detail:0}),Mg=qe(_s),Bo,qo,br,Yi=te({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==br&&(br&&e.type==="mousemove"?(Bo=e.screenX-br.screenX,qo=e.screenY-br.screenY):qo=Bo=0,br=e),Bo)},movementY:function(e){return"movementY"in e?e.movementY:qo}}),nu=qe(Yi),Ig=te({},Yi,{dataTransfer:0}),$g=qe(Ig),Ug=te({},_s,{relatedTarget:0}),Wo=qe(Ug),Fg=te({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),zg=qe(Fg),Bg=te({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qg=qe(Bg),Wg=te({},hr,{data:0}),ru=qe(Wg),Hg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jg[e])?!!t[e]:!1}function Hl(){return Kg}var Qg=te({},_s,{key:function(e){if(e.key){var t=Hg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(e){return e.type==="keypress"?si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gg=qe(Qg),Yg=te({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),su=qe(Yg),Xg=te({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),Zg=qe(Xg),e0=te({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),t0=qe(e0),n0=te({},Yi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),r0=qe(n0),s0=[9,13,27,32],Vl=jt&&"CompositionEvent"in window,zr=null;jt&&"documentMode"in document&&(zr=document.documentMode);var i0=jt&&"TextEvent"in window&&!zr,Lh=jt&&(!Vl||zr&&8<zr&&11>=zr),iu=" ",ou=!1;function Dh(e,t){switch(e){case"keyup":return s0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function o0(e,t){switch(e){case"compositionend":return Mh(t);case"keypress":return t.which!==32?null:(ou=!0,iu);case"textInput":return e=t.data,e===iu&&ou?null:e;default:return null}}function a0(e,t){if(Un)return e==="compositionend"||!Vl&&Dh(e,t)?(e=Ah(),ri=ql=Ut=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lh&&t.locale!=="ko"?null:t.data;default:return null}}var l0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function au(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!l0[e.type]:t==="textarea"}function Ih(e,t,n,r){mh(r),t=ji(t,"onChange"),0<t.length&&(n=new Wl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Br=null,ns=null;function c0(e){Kh(e,0)}function Xi(e){var t=Bn(e);if(ah(t))return e}function u0(e,t){if(e==="change")return t}var $h=!1;if(jt){var Ho;if(jt){var Vo="oninput"in document;if(!Vo){var lu=document.createElement("div");lu.setAttribute("oninput","return;"),Vo=typeof lu.oninput=="function"}Ho=Vo}else Ho=!1;$h=Ho&&(!document.documentMode||9<document.documentMode)}function cu(){Br&&(Br.detachEvent("onpropertychange",Uh),ns=Br=null)}function Uh(e){if(e.propertyName==="value"&&Xi(ns)){var t=[];Ih(t,ns,e,$l(e)),vh(c0,t)}}function d0(e,t,n){e==="focusin"?(cu(),Br=t,ns=n,Br.attachEvent("onpropertychange",Uh)):e==="focusout"&&cu()}function h0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xi(ns)}function f0(e,t){if(e==="click")return Xi(t)}function m0(e,t){if(e==="input"||e==="change")return Xi(t)}function p0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var it=typeof Object.is=="function"?Object.is:p0;function rs(e,t){if(it(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!xa.call(t,s)||!it(e[s],t[s]))return!1}return!0}function uu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function du(e,t){var n=uu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uu(n)}}function Fh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zh(){for(var e=window,t=pi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pi(e.document)}return t}function Jl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function g0(e){var t=zh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fh(n.ownerDocument.documentElement,n)){if(r!==null&&Jl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=du(n,i);var o=du(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var y0=jt&&"documentMode"in document&&11>=document.documentMode,Fn=null,$a=null,qr=null,Ua=!1;function hu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ua||Fn==null||Fn!==pi(r)||(r=Fn,"selectionStart"in r&&Jl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qr&&rs(qr,r)||(qr=r,r=ji($a,"onSelect"),0<r.length&&(t=new Wl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fn)))}function zs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zn={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionend:zs("Transition","TransitionEnd")},Jo={},Bh={};jt&&(Bh=document.createElement("div").style,"AnimationEvent"in window||(delete zn.animationend.animation,delete zn.animationiteration.animation,delete zn.animationstart.animation),"TransitionEvent"in window||delete zn.transitionend.transition);function Zi(e){if(Jo[e])return Jo[e];if(!zn[e])return e;var t=zn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Bh)return Jo[e]=t[n];return e}var qh=Zi("animationend"),Wh=Zi("animationiteration"),Hh=Zi("animationstart"),Vh=Zi("transitionend"),Jh=new Map,fu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(e,t){Jh.set(e,t),Cn(t,[e])}for(var Ko=0;Ko<fu.length;Ko++){var Qo=fu[Ko],v0=Qo.toLowerCase(),x0=Qo[0].toUpperCase()+Qo.slice(1);Zt(v0,"on"+x0)}Zt(qh,"onAnimationEnd");Zt(Wh,"onAnimationIteration");Zt(Hh,"onAnimationStart");Zt("dblclick","onDoubleClick");Zt("focusin","onFocus");Zt("focusout","onBlur");Zt(Vh,"onTransitionEnd");nr("onMouseEnter",["mouseout","mouseover"]);nr("onMouseLeave",["mouseout","mouseover"]);nr("onPointerEnter",["pointerout","pointerover"]);nr("onPointerLeave",["pointerout","pointerover"]);Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function mu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,vg(r,t,void 0,e),e.currentTarget=null}function Kh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;mu(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;mu(s,l,u),i=c}}}if(yi)throw e=La,yi=!1,La=null,e}function Q(e,t){var n=t[Wa];n===void 0&&(n=t[Wa]=new Set);var r=e+"__bubble";n.has(r)||(Qh(t,e,2,!1),n.add(r))}function Go(e,t,n){var r=0;t&&(r|=4),Qh(n,e,r,t)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function ss(e){if(!e[Bs]){e[Bs]=!0,nh.forEach(function(n){n!=="selectionchange"&&(w0.has(n)||Go(n,!1,e),Go(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bs]||(t[Bs]=!0,Go("selectionchange",!1,t))}}function Qh(e,t,n,r){switch(Rh(t)){case 1:var s=Lg;break;case 4:s=Dg;break;default:s=Bl}n=s.bind(null,t,n,e),s=void 0,!Aa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Yo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=mn(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}vh(function(){var u=i,d=$l(n),h=[];e:{var m=Jh.get(e);if(m!==void 0){var y=Wl,v=e;switch(e){case"keypress":if(si(n)===0)break e;case"keydown":case"keyup":y=Gg;break;case"focusin":v="focus",y=Wo;break;case"focusout":v="blur",y=Wo;break;case"beforeblur":case"afterblur":y=Wo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=$g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Zg;break;case qh:case Wh:case Hh:y=zg;break;case Vh:y=t0;break;case"scroll":y=Mg;break;case"wheel":y=r0;break;case"copy":case"cut":case"paste":y=qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=su}var w=(t&4)!==0,j=!w&&e==="scroll",g=w?m!==null?m+"Capture":null:m;w=[];for(var p=u,f;p!==null;){f=p;var x=f.stateNode;if(f.tag===5&&x!==null&&(f=x,g!==null&&(x=Xr(p,g),x!=null&&w.push(is(p,x,f)))),j)break;p=p.return}0<w.length&&(m=new y(m,v,null,n,d),h.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==Oa&&(v=n.relatedTarget||n.fromElement)&&(mn(v)||v[kt]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?mn(v):null,v!==null&&(j=Pn(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(w=nu,x="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=su,x="onPointerLeave",g="onPointerEnter",p="pointer"),j=y==null?m:Bn(y),f=v==null?m:Bn(v),m=new w(x,p+"leave",y,n,d),m.target=j,m.relatedTarget=f,x=null,mn(d)===u&&(w=new w(g,p+"enter",v,n,d),w.target=f,w.relatedTarget=j,x=w),j=x,y&&v)t:{for(w=y,g=v,p=0,f=w;f;f=Rn(f))p++;for(f=0,x=g;x;x=Rn(x))f++;for(;0<p-f;)w=Rn(w),p--;for(;0<f-p;)g=Rn(g),f--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=Rn(w),g=Rn(g)}w=null}else w=null;y!==null&&pu(h,m,y,w,!1),v!==null&&j!==null&&pu(h,j,v,w,!0)}}e:{if(m=u?Bn(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var _=u0;else if(au(m))if($h)_=m0;else{_=h0;var N=d0}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=f0);if(_&&(_=_(e,u))){Ih(h,_,n,d);break e}N&&N(e,m,u),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Na(m,"number",m.value)}switch(N=u?Bn(u):window,e){case"focusin":(au(N)||N.contentEditable==="true")&&(Fn=N,$a=u,qr=null);break;case"focusout":qr=$a=Fn=null;break;case"mousedown":Ua=!0;break;case"contextmenu":case"mouseup":case"dragend":Ua=!1,hu(h,n,d);break;case"selectionchange":if(y0)break;case"keydown":case"keyup":hu(h,n,d)}var S;if(Vl)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Un?Dh(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Lh&&n.locale!=="ko"&&(Un||P!=="onCompositionStart"?P==="onCompositionEnd"&&Un&&(S=Ah()):(Ut=d,ql="value"in Ut?Ut.value:Ut.textContent,Un=!0)),N=ji(u,P),0<N.length&&(P=new ru(P,e,null,n,d),h.push({event:P,listeners:N}),S?P.data=S:(S=Mh(n),S!==null&&(P.data=S)))),(S=i0?o0(e,n):a0(e,n))&&(u=ji(u,"onBeforeInput"),0<u.length&&(d=new ru("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=S))}Kh(h,t)})}function is(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ji(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xr(e,n),i!=null&&r.unshift(is(e,i,s)),i=Xr(e,t),i!=null&&r.push(is(e,i,s))),e=e.return}return r}function Rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pu(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Xr(n,i),c!=null&&o.unshift(is(n,c,l))):s||(c=Xr(n,i),c!=null&&o.push(is(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var _0=/\r\n?/g,j0=/\u0000|\uFFFD/g;function gu(e){return(typeof e=="string"?e:""+e).replace(_0,`
`).replace(j0,"")}function qs(e,t,n){if(t=gu(t),gu(e)!==t&&n)throw Error(C(425))}function ki(){}var Fa=null,za=null;function Ba(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qa=typeof setTimeout=="function"?setTimeout:void 0,k0=typeof clearTimeout=="function"?clearTimeout:void 0,yu=typeof Promise=="function"?Promise:void 0,S0=typeof queueMicrotask=="function"?queueMicrotask:typeof yu<"u"?function(e){return yu.resolve(null).then(e).catch(b0)}:qa;function b0(e){setTimeout(function(){throw e})}function Xo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ts(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ts(t)}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fr=Math.random().toString(36).slice(2),ht="__reactFiber$"+fr,os="__reactProps$"+fr,kt="__reactContainer$"+fr,Wa="__reactEvents$"+fr,N0="__reactListeners$"+fr,E0="__reactHandles$"+fr;function mn(e){var t=e[ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kt]||n[ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vu(e);e!==null;){if(n=e[ht])return n;e=vu(e)}return t}e=n,n=e.parentNode}return null}function js(e){return e=e[ht]||e[kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function eo(e){return e[os]||null}var Ha=[],qn=-1;function en(e){return{current:e}}function G(e){0>qn||(e.current=Ha[qn],Ha[qn]=null,qn--)}function K(e,t){qn++,Ha[qn]=e.current,e.current=t}var Xt={},ke=en(Xt),Re=en(!1),_n=Xt;function rr(e,t){var n=e.type.contextTypes;if(!n)return Xt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ae(e){return e=e.childContextTypes,e!=null}function Si(){G(Re),G(ke)}function xu(e,t,n){if(ke.current!==Xt)throw Error(C(168));K(ke,t),K(Re,n)}function Gh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(C(108,dg(e)||"Unknown",s));return te({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xt,_n=ke.current,K(ke,e),K(Re,Re.current),!0}function wu(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=Gh(e,t,_n),r.__reactInternalMemoizedMergedChildContext=e,G(Re),G(ke),K(ke,e)):G(Re),K(Re,n)}var vt=null,to=!1,Zo=!1;function Yh(e){vt===null?vt=[e]:vt.push(e)}function C0(e){to=!0,Yh(e)}function tn(){if(!Zo&&vt!==null){Zo=!0;var e=0,t=W;try{var n=vt;for(W=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vt=null,to=!1}catch(s){throw vt!==null&&(vt=vt.slice(e+1)),jh(Ul,tn),s}finally{W=t,Zo=!1}}return null}var Wn=[],Hn=0,Ni=null,Ei=0,He=[],Ve=0,jn=null,xt=1,wt="";function an(e,t){Wn[Hn++]=Ei,Wn[Hn++]=Ni,Ni=e,Ei=t}function Xh(e,t,n){He[Ve++]=xt,He[Ve++]=wt,He[Ve++]=jn,jn=e;var r=xt;e=wt;var s=32-rt(r)-1;r&=~(1<<s),n+=1;var i=32-rt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,xt=1<<32-rt(t)+s|n<<s|r,wt=i+e}else xt=1<<i|n<<s|r,wt=e}function Kl(e){e.return!==null&&(an(e,1),Xh(e,1,0))}function Ql(e){for(;e===Ni;)Ni=Wn[--Hn],Wn[Hn]=null,Ei=Wn[--Hn],Wn[Hn]=null;for(;e===jn;)jn=He[--Ve],He[Ve]=null,wt=He[--Ve],He[Ve]=null,xt=He[--Ve],He[Ve]=null}var Ue=null,$e=null,Y=!1,nt=null;function Zh(e,t){var n=Je(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _u(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ue=e,$e=Ht(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ue=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jn!==null?{id:xt,overflow:wt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Je(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ue=e,$e=null,!0):!1;default:return!1}}function Va(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ja(e){if(Y){var t=$e;if(t){var n=t;if(!_u(e,t)){if(Va(e))throw Error(C(418));t=Ht(n.nextSibling);var r=Ue;t&&_u(e,t)?Zh(r,n):(e.flags=e.flags&-4097|2,Y=!1,Ue=e)}}else{if(Va(e))throw Error(C(418));e.flags=e.flags&-4097|2,Y=!1,Ue=e}}}function ju(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ue=e}function Ws(e){if(e!==Ue)return!1;if(!Y)return ju(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ba(e.type,e.memoizedProps)),t&&(t=$e)){if(Va(e))throw ef(),Error(C(418));for(;t;)Zh(e,t),t=Ht(t.nextSibling)}if(ju(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$e=Ht(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=Ue?Ht(e.stateNode.nextSibling):null;return!0}function ef(){for(var e=$e;e;)e=Ht(e.nextSibling)}function sr(){$e=Ue=null,Y=!1}function Gl(e){nt===null?nt=[e]:nt.push(e)}var P0=Nt.ReactCurrentBatchConfig;function Nr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function Hs(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ku(e){var t=e._init;return t(e._payload)}function tf(e){function t(g,p){if(e){var f=g.deletions;f===null?(g.deletions=[p],g.flags|=16):f.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Qt(g,p),g.index=0,g.sibling=null,g}function i(g,p,f){return g.index=f,e?(f=g.alternate,f!==null?(f=f.index,f<p?(g.flags|=2,p):f):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,f,x){return p===null||p.tag!==6?(p=oa(f,g.mode,x),p.return=g,p):(p=s(p,f),p.return=g,p)}function c(g,p,f,x){var _=f.type;return _===$n?d(g,p,f.props.children,x,f.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===At&&ku(_)===p.type)?(x=s(p,f.props),x.ref=Nr(g,p,f),x.return=g,x):(x=di(f.type,f.key,f.props,null,g.mode,x),x.ref=Nr(g,p,f),x.return=g,x)}function u(g,p,f,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==f.containerInfo||p.stateNode.implementation!==f.implementation?(p=aa(f,g.mode,x),p.return=g,p):(p=s(p,f.children||[]),p.return=g,p)}function d(g,p,f,x,_){return p===null||p.tag!==7?(p=xn(f,g.mode,x,_),p.return=g,p):(p=s(p,f),p.return=g,p)}function h(g,p,f){if(typeof p=="string"&&p!==""||typeof p=="number")return p=oa(""+p,g.mode,f),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ls:return f=di(p.type,p.key,p.props,null,g.mode,f),f.ref=Nr(g,null,p),f.return=g,f;case In:return p=aa(p,g.mode,f),p.return=g,p;case At:var x=p._init;return h(g,x(p._payload),f)}if(Dr(p)||_r(p))return p=xn(p,g.mode,f,null),p.return=g,p;Hs(g,p)}return null}function m(g,p,f,x){var _=p!==null?p.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return _!==null?null:l(g,p,""+f,x);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ls:return f.key===_?c(g,p,f,x):null;case In:return f.key===_?u(g,p,f,x):null;case At:return _=f._init,m(g,p,_(f._payload),x)}if(Dr(f)||_r(f))return _!==null?null:d(g,p,f,x,null);Hs(g,f)}return null}function y(g,p,f,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(f)||null,l(p,g,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ls:return g=g.get(x.key===null?f:x.key)||null,c(p,g,x,_);case In:return g=g.get(x.key===null?f:x.key)||null,u(p,g,x,_);case At:var N=x._init;return y(g,p,f,N(x._payload),_)}if(Dr(x)||_r(x))return g=g.get(f)||null,d(p,g,x,_,null);Hs(p,x)}return null}function v(g,p,f,x){for(var _=null,N=null,S=p,P=p=0,L=null;S!==null&&P<f.length;P++){S.index>P?(L=S,S=null):L=S.sibling;var E=m(g,S,f[P],x);if(E===null){S===null&&(S=L);break}e&&S&&E.alternate===null&&t(g,S),p=i(E,p,P),N===null?_=E:N.sibling=E,N=E,S=L}if(P===f.length)return n(g,S),Y&&an(g,P),_;if(S===null){for(;P<f.length;P++)S=h(g,f[P],x),S!==null&&(p=i(S,p,P),N===null?_=S:N.sibling=S,N=S);return Y&&an(g,P),_}for(S=r(g,S);P<f.length;P++)L=y(S,g,P,f[P],x),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?P:L.key),p=i(L,p,P),N===null?_=L:N.sibling=L,N=L);return e&&S.forEach(function(D){return t(g,D)}),Y&&an(g,P),_}function w(g,p,f,x){var _=_r(f);if(typeof _!="function")throw Error(C(150));if(f=_.call(f),f==null)throw Error(C(151));for(var N=_=null,S=p,P=p=0,L=null,E=f.next();S!==null&&!E.done;P++,E=f.next()){S.index>P?(L=S,S=null):L=S.sibling;var D=m(g,S,E.value,x);if(D===null){S===null&&(S=L);break}e&&S&&D.alternate===null&&t(g,S),p=i(D,p,P),N===null?_=D:N.sibling=D,N=D,S=L}if(E.done)return n(g,S),Y&&an(g,P),_;if(S===null){for(;!E.done;P++,E=f.next())E=h(g,E.value,x),E!==null&&(p=i(E,p,P),N===null?_=E:N.sibling=E,N=E);return Y&&an(g,P),_}for(S=r(g,S);!E.done;P++,E=f.next())E=y(S,g,P,E.value,x),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?P:E.key),p=i(E,p,P),N===null?_=E:N.sibling=E,N=E);return e&&S.forEach(function(oe){return t(g,oe)}),Y&&an(g,P),_}function j(g,p,f,x){if(typeof f=="object"&&f!==null&&f.type===$n&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Ls:e:{for(var _=f.key,N=p;N!==null;){if(N.key===_){if(_=f.type,_===$n){if(N.tag===7){n(g,N.sibling),p=s(N,f.props.children),p.return=g,g=p;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===At&&ku(_)===N.type){n(g,N.sibling),p=s(N,f.props),p.ref=Nr(g,N,f),p.return=g,g=p;break e}n(g,N);break}else t(g,N);N=N.sibling}f.type===$n?(p=xn(f.props.children,g.mode,x,f.key),p.return=g,g=p):(x=di(f.type,f.key,f.props,null,g.mode,x),x.ref=Nr(g,p,f),x.return=g,g=x)}return o(g);case In:e:{for(N=f.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===f.containerInfo&&p.stateNode.implementation===f.implementation){n(g,p.sibling),p=s(p,f.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=aa(f,g.mode,x),p.return=g,g=p}return o(g);case At:return N=f._init,j(g,p,N(f._payload),x)}if(Dr(f))return v(g,p,f,x);if(_r(f))return w(g,p,f,x);Hs(g,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,f),p.return=g,g=p):(n(g,p),p=oa(f,g.mode,x),p.return=g,g=p),o(g)):n(g,p)}return j}var ir=tf(!0),nf=tf(!1),Ci=en(null),Pi=null,Vn=null,Yl=null;function Xl(){Yl=Vn=Pi=null}function Zl(e){var t=Ci.current;G(Ci),e._currentValue=t}function Ka(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zn(e,t){Pi=e,Yl=Vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Oe=!0),e.firstContext=null)}function Ge(e){var t=e._currentValue;if(Yl!==e)if(e={context:e,memoizedValue:t,next:null},Vn===null){if(Pi===null)throw Error(C(308));Vn=e,Pi.dependencies={lanes:0,firstContext:e}}else Vn=Vn.next=e;return t}var pn=null;function ec(e){pn===null?pn=[e]:pn.push(e)}function rf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ec(t)):(n.next=s.next,s.next=n),t.interleaved=n,St(e,r)}function St(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Lt=!1;function tc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,St(e,n)}return s=r.interleaved,s===null?(t.next=t,ec(r)):(t.next=s.next,s.next=t),r.interleaved=t,St(e,n)}function ii(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fl(e,n)}}function Su(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ti(e,t,n,r){var s=e.updateQueue;Lt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(m=t,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(y,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,m=typeof v=="function"?v.call(y,h,m):v,m==null)break e;h=te({},h,m);break e;case 2:Lt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Sn|=o,e.lanes=o,e.memoizedState=h}}function bu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var ks={},mt=en(ks),as=en(ks),ls=en(ks);function gn(e){if(e===ks)throw Error(C(174));return e}function nc(e,t){switch(K(ls,t),K(as,e),K(mt,ks),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ca(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ca(t,e)}G(mt),K(mt,t)}function or(){G(mt),G(as),G(ls)}function of(e){gn(ls.current);var t=gn(mt.current),n=Ca(t,e.type);t!==n&&(K(as,e),K(mt,n))}function rc(e){as.current===e&&(G(mt),G(as))}var Z=en(0);function Oi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ea=[];function sc(){for(var e=0;e<ea.length;e++)ea[e]._workInProgressVersionPrimary=null;ea.length=0}var oi=Nt.ReactCurrentDispatcher,ta=Nt.ReactCurrentBatchConfig,kn=0,ee=null,ce=null,fe=null,Ri=!1,Wr=!1,cs=0,T0=0;function xe(){throw Error(C(321))}function ic(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!it(e[n],t[n]))return!1;return!0}function oc(e,t,n,r,s,i){if(kn=i,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oi.current=e===null||e.memoizedState===null?L0:D0,e=n(r,s),Wr){i=0;do{if(Wr=!1,cs=0,25<=i)throw Error(C(301));i+=1,fe=ce=null,t.updateQueue=null,oi.current=M0,e=n(r,s)}while(Wr)}if(oi.current=Ai,t=ce!==null&&ce.next!==null,kn=0,fe=ce=ee=null,Ri=!1,t)throw Error(C(300));return e}function ac(){var e=cs!==0;return cs=0,e}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?ee.memoizedState=fe=e:fe=fe.next=e,fe}function Ye(){if(ce===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=ce.next;var t=fe===null?ee.memoizedState:fe.next;if(t!==null)fe=t,ce=e;else{if(e===null)throw Error(C(310));ce=e,e={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},fe===null?ee.memoizedState=fe=e:fe=fe.next=e}return fe}function us(e,t){return typeof t=="function"?t(e):t}function na(e){var t=Ye(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=ce,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((kn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,ee.lanes|=d,Sn|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,it(r,t.memoizedState)||(Oe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ee.lanes|=i,Sn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ra(e){var t=Ye(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);it(i,t.memoizedState)||(Oe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function af(){}function lf(e,t){var n=ee,r=Ye(),s=t(),i=!it(r.memoizedState,s);if(i&&(r.memoizedState=s,Oe=!0),r=r.queue,lc(df.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,ds(9,uf.bind(null,n,r,s,t),void 0,null),me===null)throw Error(C(349));kn&30||cf(n,t,s)}return s}function cf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uf(e,t,n,r){t.value=n,t.getSnapshot=r,hf(t)&&ff(e)}function df(e,t,n){return n(function(){hf(t)&&ff(e)})}function hf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!it(e,n)}catch{return!0}}function ff(e){var t=St(e,1);t!==null&&st(t,e,1,-1)}function Nu(e){var t=dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:e},t.queue=e,e=e.dispatch=A0.bind(null,ee,e),[t.memoizedState,e]}function ds(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function mf(){return Ye().memoizedState}function ai(e,t,n,r){var s=dt();ee.flags|=e,s.memoizedState=ds(1|t,n,void 0,r===void 0?null:r)}function no(e,t,n,r){var s=Ye();r=r===void 0?null:r;var i=void 0;if(ce!==null){var o=ce.memoizedState;if(i=o.destroy,r!==null&&ic(r,o.deps)){s.memoizedState=ds(t,n,i,r);return}}ee.flags|=e,s.memoizedState=ds(1|t,n,i,r)}function Eu(e,t){return ai(8390656,8,e,t)}function lc(e,t){return no(2048,8,e,t)}function pf(e,t){return no(4,2,e,t)}function gf(e,t){return no(4,4,e,t)}function yf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vf(e,t,n){return n=n!=null?n.concat([e]):null,no(4,4,yf.bind(null,t,e),n)}function cc(){}function xf(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ic(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function wf(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ic(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _f(e,t,n){return kn&21?(it(n,t)||(n=bh(),ee.lanes|=n,Sn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Oe=!0),e.memoizedState=n)}function O0(e,t){var n=W;W=n!==0&&4>n?n:4,e(!0);var r=ta.transition;ta.transition={};try{e(!1),t()}finally{W=n,ta.transition=r}}function jf(){return Ye().memoizedState}function R0(e,t,n){var r=Kt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kf(e))Sf(t,n);else if(n=rf(e,t,n,r),n!==null){var s=be();st(n,e,r,s),bf(n,t,r)}}function A0(e,t,n){var r=Kt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kf(e))Sf(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,it(l,o)){var c=t.interleaved;c===null?(s.next=s,ec(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=rf(e,t,s,r),n!==null&&(s=be(),st(n,e,r,s),bf(n,t,r))}}function kf(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function Sf(e,t){Wr=Ri=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fl(e,n)}}var Ai={readContext:Ge,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},L0={readContext:Ge,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:Ge,useEffect:Eu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ai(4194308,4,yf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ai(4194308,4,e,t)},useInsertionEffect:function(e,t){return ai(4,2,e,t)},useMemo:function(e,t){var n=dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=R0.bind(null,ee,e),[r.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:Nu,useDebugValue:cc,useDeferredValue:function(e){return dt().memoizedState=e},useTransition:function(){var e=Nu(!1),t=e[0];return e=O0.bind(null,e[1]),dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ee,s=dt();if(Y){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),me===null)throw Error(C(349));kn&30||cf(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Eu(df.bind(null,r,i,e),[e]),r.flags|=2048,ds(9,uf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=dt(),t=me.identifierPrefix;if(Y){var n=wt,r=xt;n=(r&~(1<<32-rt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=cs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=T0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},D0={readContext:Ge,useCallback:xf,useContext:Ge,useEffect:lc,useImperativeHandle:vf,useInsertionEffect:pf,useLayoutEffect:gf,useMemo:wf,useReducer:na,useRef:mf,useState:function(){return na(us)},useDebugValue:cc,useDeferredValue:function(e){var t=Ye();return _f(t,ce.memoizedState,e)},useTransition:function(){var e=na(us)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:af,useSyncExternalStore:lf,useId:jf,unstable_isNewReconciler:!1},M0={readContext:Ge,useCallback:xf,useContext:Ge,useEffect:lc,useImperativeHandle:vf,useInsertionEffect:pf,useLayoutEffect:gf,useMemo:wf,useReducer:ra,useRef:mf,useState:function(){return ra(us)},useDebugValue:cc,useDeferredValue:function(e){var t=Ye();return ce===null?t.memoizedState=e:_f(t,ce.memoizedState,e)},useTransition:function(){var e=ra(us)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:af,useSyncExternalStore:lf,useId:jf,unstable_isNewReconciler:!1};function Ze(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return(e=e._reactInternals)?Pn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=be(),s=Kt(e),i=_t(r,s);i.payload=t,n!=null&&(i.callback=n),t=Vt(e,i,s),t!==null&&(st(t,e,s,r),ii(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=be(),s=Kt(e),i=_t(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Vt(e,i,s),t!==null&&(st(t,e,s,r),ii(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=be(),r=Kt(e),s=_t(n,r);s.tag=2,t!=null&&(s.callback=t),t=Vt(e,s,r),t!==null&&(st(t,e,r,n),ii(t,e,r))}};function Cu(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!rs(n,r)||!rs(s,i):!0}function Nf(e,t,n){var r=!1,s=Xt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ge(i):(s=Ae(t)?_n:ke.current,r=t.contextTypes,i=(r=r!=null)?rr(e,s):Xt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Pu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},tc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ge(i):(i=Ae(t)?_n:ke.current,s.context=rr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Qa(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ro.enqueueReplaceState(s,s.state,null),Ti(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ar(e,t){try{var n="",r=t;do n+=ug(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function sa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ya(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var I0=typeof WeakMap=="function"?WeakMap:Map;function Ef(e,t,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Di||(Di=!0,al=r),Ya(e,t)},n}function Cf(e,t,n){n=_t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ya(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ya(e,t),typeof r!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Tu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new I0;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Y0.bind(null,e,t,n),t.then(e,e))}function Ou(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ru(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_t(-1,1),t.tag=2,Vt(n,t,1))),n.lanes|=1),e)}var $0=Nt.ReactCurrentOwner,Oe=!1;function Se(e,t,n,r){t.child=e===null?nf(t,null,n,r):ir(t,e.child,n,r)}function Au(e,t,n,r,s){n=n.render;var i=t.ref;return Zn(t,s),r=oc(e,t,n,r,i,s),n=ac(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bt(e,t,s)):(Y&&n&&Kl(t),t.flags|=1,Se(e,t,r,s),t.child)}function Lu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!yc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Pf(e,t,i,r,s)):(e=di(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:rs,n(o,r)&&e.ref===t.ref)return bt(e,t,s)}return t.flags|=1,e=Qt(i,r),e.ref=t.ref,e.return=t,t.child=e}function Pf(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(rs(i,r)&&e.ref===t.ref)if(Oe=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Oe=!0);else return t.lanes=e.lanes,bt(e,t,s)}return Xa(e,t,n,r,s)}function Tf(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Kn,Ie),Ie|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(Kn,Ie),Ie|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(Kn,Ie),Ie|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,K(Kn,Ie),Ie|=r;return Se(e,t,s,n),t.child}function Of(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xa(e,t,n,r,s){var i=Ae(n)?_n:ke.current;return i=rr(t,i),Zn(t,s),n=oc(e,t,n,r,i,s),r=ac(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bt(e,t,s)):(Y&&r&&Kl(t),t.flags|=1,Se(e,t,n,s),t.child)}function Du(e,t,n,r,s){if(Ae(n)){var i=!0;bi(t)}else i=!1;if(Zn(t,s),t.stateNode===null)li(e,t),Nf(t,n,r),Ga(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ge(u):(u=Ae(n)?_n:ke.current,u=rr(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Pu(t,o,r,u),Lt=!1;var m=t.memoizedState;o.state=m,Ti(t,r,o,s),c=t.memoizedState,l!==r||m!==c||Re.current||Lt?(typeof d=="function"&&(Qa(t,n,d,r),c=t.memoizedState),(l=Lt||Cu(t,n,l,r,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,sf(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ze(t.type,l),o.props=u,h=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ge(c):(c=Ae(n)?_n:ke.current,c=rr(t,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&Pu(t,o,r,c),Lt=!1,m=t.memoizedState,o.state=m,Ti(t,r,o,s);var v=t.memoizedState;l!==h||m!==v||Re.current||Lt?(typeof y=="function"&&(Qa(t,n,y,r),v=t.memoizedState),(u=Lt||Cu(t,n,u,r,m,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Za(e,t,n,r,i,s)}function Za(e,t,n,r,s,i){Of(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&wu(t,n,!1),bt(e,t,i);r=t.stateNode,$0.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ir(t,e.child,null,i),t.child=ir(t,null,l,i)):Se(e,t,l,i),t.memoizedState=r.state,s&&wu(t,n,!0),t.child}function Rf(e){var t=e.stateNode;t.pendingContext?xu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xu(e,t.context,!1),nc(e,t.containerInfo)}function Mu(e,t,n,r,s){return sr(),Gl(s),t.flags|=256,Se(e,t,n,r),t.child}var el={dehydrated:null,treeContext:null,retryLane:0};function tl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Af(e,t,n){var r=t.pendingProps,s=Z.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),K(Z,s&1),e===null)return Ja(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=oo(o,r,0,null),e=xn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=tl(n),t.memoizedState=el,e):uc(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return U0(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Qt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Qt(l,i):(i=xn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?tl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=el,r}return i=e.child,e=i.sibling,r=Qt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function uc(e,t){return t=oo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vs(e,t,n,r){return r!==null&&Gl(r),ir(t,e.child,null,n),e=uc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function U0(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=sa(Error(C(422))),Vs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=oo({mode:"visible",children:r.children},s,0,null),i=xn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ir(t,e.child,null,o),t.child.memoizedState=tl(o),t.memoizedState=el,i);if(!(t.mode&1))return Vs(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(C(419)),r=sa(i,r,void 0),Vs(e,t,o,r)}if(l=(o&e.childLanes)!==0,Oe||l){if(r=me,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,St(e,s),st(r,e,s,-1))}return gc(),r=sa(Error(C(421))),Vs(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=X0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,$e=Ht(s.nextSibling),Ue=t,Y=!0,nt=null,e!==null&&(He[Ve++]=xt,He[Ve++]=wt,He[Ve++]=jn,xt=e.id,wt=e.overflow,jn=t),t=uc(t,r.children),t.flags|=4096,t)}function Iu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ka(e.return,t,n)}function ia(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Lf(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Se(e,t,r.children,n),r=Z.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Iu(e,n,t);else if(e.tag===19)Iu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(K(Z,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Oi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ia(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Oi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ia(t,!0,n,null,i);break;case"together":ia(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function li(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=Qt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function F0(e,t,n){switch(t.tag){case 3:Rf(t),sr();break;case 5:of(t);break;case 1:Ae(t.type)&&bi(t);break;case 4:nc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;K(Ci,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(K(Z,Z.current&1),t.flags|=128,null):n&t.child.childLanes?Af(e,t,n):(K(Z,Z.current&1),e=bt(e,t,n),e!==null?e.sibling:null);K(Z,Z.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Lf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(Z,Z.current),r)break;return null;case 22:case 23:return t.lanes=0,Tf(e,t,n)}return bt(e,t,n)}var Df,nl,Mf,If;Df=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nl=function(){};Mf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,gn(mt.current);var i=null;switch(n){case"input":s=Sa(e,s),r=Sa(e,r),i=[];break;case"select":s=te({},s,{value:void 0}),r=te({},r,{value:void 0}),i=[];break;case"textarea":s=Ea(e,s),r=Ea(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ki)}Pa(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Q("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};If=function(e,t,n,r){n!==r&&(t.flags|=4)};function Er(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function z0(e,t,n){var r=t.pendingProps;switch(Ql(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return Ae(t.type)&&Si(),we(t),null;case 3:return r=t.stateNode,or(),G(Re),G(ke),sc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nt!==null&&(ul(nt),nt=null))),nl(e,t),we(t),null;case 5:rc(t);var s=gn(ls.current);if(n=t.type,e!==null&&t.stateNode!=null)Mf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return we(t),null}if(e=gn(mt.current),Ws(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ht]=t,r[os]=i,e=(t.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(s=0;s<Ir.length;s++)Q(Ir[s],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":Vc(r,i),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Q("invalid",r);break;case"textarea":Kc(r,i),Q("invalid",r)}Pa(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&qs(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&qs(r.textContent,l,e),s=["children",""+l]):Gr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Q("scroll",r)}switch(n){case"input":Ds(r),Jc(r,i,!0);break;case"textarea":Ds(r),Qc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ki)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ht]=t,e[os]=r,Df(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ta(n,r),n){case"dialog":Q("cancel",e),Q("close",e),s=r;break;case"iframe":case"object":case"embed":Q("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ir.length;s++)Q(Ir[s],e);s=r;break;case"source":Q("error",e),s=r;break;case"img":case"image":case"link":Q("error",e),Q("load",e),s=r;break;case"details":Q("toggle",e),s=r;break;case"input":Vc(e,r),s=Sa(e,r),Q("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=te({},r,{value:void 0}),Q("invalid",e);break;case"textarea":Kc(e,r),s=Ea(e,r),Q("invalid",e);break;default:s=r}Pa(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?fh(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&dh(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Yr(e,c):typeof c=="number"&&Yr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Q("scroll",e):c!=null&&Ll(e,i,c,o))}switch(n){case"input":Ds(e),Jc(e,r,!1);break;case"textarea":Ds(e),Qc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Yt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Qn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Qn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ki)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)If(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=gn(ls.current),gn(mt.current),Ws(t)){if(r=t.stateNode,n=t.memoizedProps,r[ht]=t,(i=r.nodeValue!==n)&&(e=Ue,e!==null))switch(e.tag){case 3:qs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qs(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ht]=t,t.stateNode=r}return we(t),null;case 13:if(G(Z),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&$e!==null&&t.mode&1&&!(t.flags&128))ef(),sr(),t.flags|=98560,i=!1;else if(i=Ws(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[ht]=t}else sr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),i=!1}else nt!==null&&(ul(nt),nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Z.current&1?ue===0&&(ue=3):gc())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return or(),nl(e,t),e===null&&ss(t.stateNode.containerInfo),we(t),null;case 10:return Zl(t.type._context),we(t),null;case 17:return Ae(t.type)&&Si(),we(t),null;case 19:if(G(Z),i=t.memoizedState,i===null)return we(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Er(i,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Oi(e),o!==null){for(t.flags|=128,Er(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return K(Z,Z.current&1|2),t.child}e=e.sibling}i.tail!==null&&se()>lr&&(t.flags|=128,r=!0,Er(i,!1),t.lanes=4194304)}else{if(!r)if(e=Oi(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Er(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Y)return we(t),null}else 2*se()-i.renderingStartTime>lr&&n!==1073741824&&(t.flags|=128,r=!0,Er(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=se(),t.sibling=null,n=Z.current,K(Z,r?n&1|2:n&1),t):(we(t),null);case 22:case 23:return pc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ie&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function B0(e,t){switch(Ql(t),t.tag){case 1:return Ae(t.type)&&Si(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return or(),G(Re),G(ke),sc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rc(t),null;case 13:if(G(Z),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Z),null;case 4:return or(),null;case 10:return Zl(t.type._context),null;case 22:case 23:return pc(),null;case 24:return null;default:return null}}var Js=!1,_e=!1,q0=typeof WeakSet=="function"?WeakSet:Set,O=null;function Jn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ne(e,t,r)}else n.current=null}function rl(e,t,n){try{n()}catch(r){ne(e,t,r)}}var $u=!1;function W0(e,t){if(Fa=wi,e=zh(),Jl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=o),m===i&&++d===r&&(c=o),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(za={focusedElem:e,selectionRange:n},wi=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,j=v.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ze(t.type,w),j);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(x){ne(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return v=$u,$u=!1,v}function Hr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&rl(t,n,i)}s=s.next}while(s!==r)}}function so(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $f(e){var t=e.alternate;t!==null&&(e.alternate=null,$f(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ht],delete t[os],delete t[Wa],delete t[N0],delete t[E0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uf(e){return e.tag===5||e.tag===3||e.tag===4}function Uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function il(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ki));else if(r!==4&&(e=e.child,e!==null))for(il(e,t,n),e=e.sibling;e!==null;)il(e,t,n),e=e.sibling}function ol(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ol(e,t,n),e=e.sibling;e!==null;)ol(e,t,n),e=e.sibling}var ge=null,et=!1;function Pt(e,t,n){for(n=n.child;n!==null;)Ff(e,t,n),n=n.sibling}function Ff(e,t,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Gi,n)}catch{}switch(n.tag){case 5:_e||Jn(n,t);case 6:var r=ge,s=et;ge=null,Pt(e,t,n),ge=r,et=s,ge!==null&&(et?(e=ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(et?(e=ge,n=n.stateNode,e.nodeType===8?Xo(e.parentNode,n):e.nodeType===1&&Xo(e,n),ts(e)):Xo(ge,n.stateNode));break;case 4:r=ge,s=et,ge=n.stateNode.containerInfo,et=!0,Pt(e,t,n),ge=r,et=s;break;case 0:case 11:case 14:case 15:if(!_e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&rl(n,t,o),s=s.next}while(s!==r)}Pt(e,t,n);break;case 1:if(!_e&&(Jn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ne(n,t,l)}Pt(e,t,n);break;case 21:Pt(e,t,n);break;case 22:n.mode&1?(_e=(r=_e)||n.memoizedState!==null,Pt(e,t,n),_e=r):Pt(e,t,n);break;default:Pt(e,t,n)}}function Fu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new q0),t.forEach(function(r){var s=Z0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ge=l.stateNode,et=!1;break e;case 3:ge=l.stateNode.containerInfo,et=!0;break e;case 4:ge=l.stateNode.containerInfo,et=!0;break e}l=l.return}if(ge===null)throw Error(C(160));Ff(i,o,s),ge=null,et=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ne(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zf(t,e),t=t.sibling}function zf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xe(t,e),lt(e),r&4){try{Hr(3,e,e.return),so(3,e)}catch(w){ne(e,e.return,w)}try{Hr(5,e,e.return)}catch(w){ne(e,e.return,w)}}break;case 1:Xe(t,e),lt(e),r&512&&n!==null&&Jn(n,n.return);break;case 5:if(Xe(t,e),lt(e),r&512&&n!==null&&Jn(n,n.return),e.flags&32){var s=e.stateNode;try{Yr(s,"")}catch(w){ne(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&lh(s,i),Ta(l,o);var u=Ta(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?fh(s,h):d==="dangerouslySetInnerHTML"?dh(s,h):d==="children"?Yr(s,h):Ll(s,d,h,u)}switch(l){case"input":ba(s,i);break;case"textarea":ch(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Qn(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Qn(s,!!i.multiple,i.defaultValue,!0):Qn(s,!!i.multiple,i.multiple?[]:"",!1))}s[os]=i}catch(w){ne(e,e.return,w)}}break;case 6:if(Xe(t,e),lt(e),r&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ne(e,e.return,w)}}break;case 3:if(Xe(t,e),lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ts(t.containerInfo)}catch(w){ne(e,e.return,w)}break;case 4:Xe(t,e),lt(e);break;case 13:Xe(t,e),lt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(fc=se())),r&4&&Fu(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(_e=(u=_e)||d,Xe(t,e),_e=u):Xe(t,e),lt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(h=O=d;O!==null;){switch(m=O,y=m.child,m.tag){case 0:case 11:case 14:case 15:Hr(4,m,m.return);break;case 1:Jn(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){ne(r,n,w)}}break;case 5:Jn(m,m.return);break;case 22:if(m.memoizedState!==null){Bu(h);continue}}y!==null?(y.return=m,O=y):Bu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=hh("display",o))}catch(w){ne(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){ne(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xe(t,e),lt(e),r&4&&Fu(e);break;case 21:break;default:Xe(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Uf(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Yr(s,""),r.flags&=-33);var i=Uu(e);ol(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Uu(e);il(e,l,o);break;default:throw Error(C(161))}}catch(c){ne(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function H0(e,t,n){O=e,Bf(e)}function Bf(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Js;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||_e;l=Js;var u=_e;if(Js=o,(_e=c)&&!u)for(O=s;O!==null;)o=O,c=o.child,o.tag===22&&o.memoizedState!==null?qu(s):c!==null?(c.return=o,O=c):qu(s);for(;i!==null;)O=i,Bf(i),i=i.sibling;O=s,Js=l,_e=u}zu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):zu(e)}}function zu(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||so(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_e)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ze(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&bu(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bu(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ts(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}_e||t.flags&512&&sl(t)}catch(m){ne(t,t.return,m)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Bu(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function qu(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{so(4,t)}catch(c){ne(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ne(t,s,c)}}var i=t.return;try{sl(t)}catch(c){ne(t,i,c)}break;case 5:var o=t.return;try{sl(t)}catch(c){ne(t,o,c)}}}catch(c){ne(t,t.return,c)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var V0=Math.ceil,Li=Nt.ReactCurrentDispatcher,dc=Nt.ReactCurrentOwner,Ke=Nt.ReactCurrentBatchConfig,B=0,me=null,ae=null,ye=0,Ie=0,Kn=en(0),ue=0,hs=null,Sn=0,io=0,hc=0,Vr=null,Pe=null,fc=0,lr=1/0,gt=null,Di=!1,al=null,Jt=null,Ks=!1,Ft=null,Mi=0,Jr=0,ll=null,ci=-1,ui=0;function be(){return B&6?se():ci!==-1?ci:ci=se()}function Kt(e){return e.mode&1?B&2&&ye!==0?ye&-ye:P0.transition!==null?(ui===0&&(ui=bh()),ui):(e=W,e!==0||(e=window.event,e=e===void 0?16:Rh(e.type)),e):1}function st(e,t,n,r){if(50<Jr)throw Jr=0,ll=null,Error(C(185));ws(e,n,r),(!(B&2)||e!==me)&&(e===me&&(!(B&2)&&(io|=n),ue===4&&It(e,ye)),Le(e,r),n===1&&B===0&&!(t.mode&1)&&(lr=se()+500,to&&tn()))}function Le(e,t){var n=e.callbackNode;Pg(e,t);var r=xi(e,e===me?ye:0);if(r===0)n!==null&&Xc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xc(n),t===1)e.tag===0?C0(Wu.bind(null,e)):Yh(Wu.bind(null,e)),S0(function(){!(B&6)&&tn()}),n=null;else{switch(Nh(r)){case 1:n=Ul;break;case 4:n=kh;break;case 16:n=vi;break;case 536870912:n=Sh;break;default:n=vi}n=Gf(n,qf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qf(e,t){if(ci=-1,ui=0,B&6)throw Error(C(327));var n=e.callbackNode;if(er()&&e.callbackNode!==n)return null;var r=xi(e,e===me?ye:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ii(e,r);else{t=r;var s=B;B|=2;var i=Hf();(me!==e||ye!==t)&&(gt=null,lr=se()+500,vn(e,t));do try{Q0();break}catch(l){Wf(e,l)}while(!0);Xl(),Li.current=i,B=s,ae!==null?t=0:(me=null,ye=0,t=ue)}if(t!==0){if(t===2&&(s=Da(e),s!==0&&(r=s,t=cl(e,s))),t===1)throw n=hs,vn(e,0),It(e,r),Le(e,se()),n;if(t===6)It(e,r);else{if(s=e.current.alternate,!(r&30)&&!J0(s)&&(t=Ii(e,r),t===2&&(i=Da(e),i!==0&&(r=i,t=cl(e,i))),t===1))throw n=hs,vn(e,0),It(e,r),Le(e,se()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:ln(e,Pe,gt);break;case 3:if(It(e,r),(r&130023424)===r&&(t=fc+500-se(),10<t)){if(xi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){be(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=qa(ln.bind(null,e,Pe,gt),t);break}ln(e,Pe,gt);break;case 4:if(It(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-rt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*V0(r/1960))-r,10<r){e.timeoutHandle=qa(ln.bind(null,e,Pe,gt),r);break}ln(e,Pe,gt);break;case 5:ln(e,Pe,gt);break;default:throw Error(C(329))}}}return Le(e,se()),e.callbackNode===n?qf.bind(null,e):null}function cl(e,t){var n=Vr;return e.current.memoizedState.isDehydrated&&(vn(e,t).flags|=256),e=Ii(e,t),e!==2&&(t=Pe,Pe=n,t!==null&&ul(t)),e}function ul(e){Pe===null?Pe=e:Pe.push.apply(Pe,e)}function J0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!it(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~hc,t&=~io,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function Wu(e){if(B&6)throw Error(C(327));er();var t=xi(e,0);if(!(t&1))return Le(e,se()),null;var n=Ii(e,t);if(e.tag!==0&&n===2){var r=Da(e);r!==0&&(t=r,n=cl(e,r))}if(n===1)throw n=hs,vn(e,0),It(e,t),Le(e,se()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ln(e,Pe,gt),Le(e,se()),null}function mc(e,t){var n=B;B|=1;try{return e(t)}finally{B=n,B===0&&(lr=se()+500,to&&tn())}}function bn(e){Ft!==null&&Ft.tag===0&&!(B&6)&&er();var t=B;B|=1;var n=Ke.transition,r=W;try{if(Ke.transition=null,W=1,e)return e()}finally{W=r,Ke.transition=n,B=t,!(B&6)&&tn()}}function pc(){Ie=Kn.current,G(Kn)}function vn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,k0(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(Ql(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Si();break;case 3:or(),G(Re),G(ke),sc();break;case 5:rc(r);break;case 4:or();break;case 13:G(Z);break;case 19:G(Z);break;case 10:Zl(r.type._context);break;case 22:case 23:pc()}n=n.return}if(me=e,ae=e=Qt(e.current,null),ye=Ie=t,ue=0,hs=null,hc=io=Sn=0,Pe=Vr=null,pn!==null){for(t=0;t<pn.length;t++)if(n=pn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}pn=null}return e}function Wf(e,t){do{var n=ae;try{if(Xl(),oi.current=Ai,Ri){for(var r=ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ri=!1}if(kn=0,fe=ce=ee=null,Wr=!1,cs=0,dc.current=null,n===null||n.return===null){ue=1,hs=t,ae=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=ye,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Ou(o);if(y!==null){y.flags&=-257,Ru(y,o,l,i,t),y.mode&1&&Tu(i,u,t),t=y,c=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(c),t.updateQueue=w}else v.add(c);break e}else{if(!(t&1)){Tu(i,u,t),gc();break e}c=Error(C(426))}}else if(Y&&l.mode&1){var j=Ou(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Ru(j,o,l,i,t),Gl(ar(c,l));break e}}i=c=ar(c,l),ue!==4&&(ue=2),Vr===null?Vr=[i]:Vr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Ef(i,c,t);Su(i,g);break e;case 1:l=c;var p=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Jt===null||!Jt.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Cf(i,l,t);Su(i,x);break e}}i=i.return}while(i!==null)}Jf(n)}catch(_){t=_,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(!0)}function Hf(){var e=Li.current;return Li.current=Ai,e===null?Ai:e}function gc(){(ue===0||ue===3||ue===2)&&(ue=4),me===null||!(Sn&268435455)&&!(io&268435455)||It(me,ye)}function Ii(e,t){var n=B;B|=2;var r=Hf();(me!==e||ye!==t)&&(gt=null,vn(e,t));do try{K0();break}catch(s){Wf(e,s)}while(!0);if(Xl(),B=n,Li.current=r,ae!==null)throw Error(C(261));return me=null,ye=0,ue}function K0(){for(;ae!==null;)Vf(ae)}function Q0(){for(;ae!==null&&!wg();)Vf(ae)}function Vf(e){var t=Qf(e.alternate,e,Ie);e.memoizedProps=e.pendingProps,t===null?Jf(e):ae=t,dc.current=null}function Jf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=B0(n,t),n!==null){n.flags&=32767,ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ue=6,ae=null;return}}else if(n=z0(n,t,Ie),n!==null){ae=n;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);ue===0&&(ue=5)}function ln(e,t,n){var r=W,s=Ke.transition;try{Ke.transition=null,W=1,G0(e,t,n,r)}finally{Ke.transition=s,W=r}return null}function G0(e,t,n,r){do er();while(Ft!==null);if(B&6)throw Error(C(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Tg(e,i),e===me&&(ae=me=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ks||(Ks=!0,Gf(vi,function(){return er(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ke.transition,Ke.transition=null;var o=W;W=1;var l=B;B|=4,dc.current=null,W0(e,n),zf(n,e),g0(za),wi=!!Fa,za=Fa=null,e.current=n,H0(n),_g(),B=l,W=o,Ke.transition=i}else e.current=n;if(Ks&&(Ks=!1,Ft=e,Mi=s),i=e.pendingLanes,i===0&&(Jt=null),Sg(n.stateNode),Le(e,se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Di)throw Di=!1,e=al,al=null,e;return Mi&1&&e.tag!==0&&er(),i=e.pendingLanes,i&1?e===ll?Jr++:(Jr=0,ll=e):Jr=0,tn(),null}function er(){if(Ft!==null){var e=Nh(Mi),t=Ke.transition,n=W;try{if(Ke.transition=null,W=16>e?16:e,Ft===null)var r=!1;else{if(e=Ft,Ft=null,Mi=0,B&6)throw Error(C(331));var s=B;for(B|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:Hr(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var m=d.sibling,y=d.return;if($f(d),d===u){O=null;break}if(m!==null){m.return=y,O=m;break}O=y}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var p=e.current;for(O=p;O!==null;){o=O;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,O=f;else e:for(o=p;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:so(9,l)}}catch(_){ne(l,l.return,_)}if(l===o){O=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,O=x;break e}O=l.return}}if(B=s,tn(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Gi,e)}catch{}r=!0}return r}finally{W=n,Ke.transition=t}}return!1}function Hu(e,t,n){t=ar(n,t),t=Ef(e,t,1),e=Vt(e,t,1),t=be(),e!==null&&(ws(e,1,t),Le(e,t))}function ne(e,t,n){if(e.tag===3)Hu(e,e,n);else for(;t!==null;){if(t.tag===3){Hu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jt===null||!Jt.has(r))){e=ar(n,e),e=Cf(t,e,1),t=Vt(t,e,1),e=be(),t!==null&&(ws(t,1,e),Le(t,e));break}}t=t.return}}function Y0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=be(),e.pingedLanes|=e.suspendedLanes&n,me===e&&(ye&n)===n&&(ue===4||ue===3&&(ye&130023424)===ye&&500>se()-fc?vn(e,0):hc|=n),Le(e,t)}function Kf(e,t){t===0&&(e.mode&1?(t=$s,$s<<=1,!($s&130023424)&&($s=4194304)):t=1);var n=be();e=St(e,t),e!==null&&(ws(e,t,n),Le(e,n))}function X0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Kf(e,n)}function Z0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),Kf(e,n)}var Qf;Qf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Re.current)Oe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Oe=!1,F0(e,t,n);Oe=!!(e.flags&131072)}else Oe=!1,Y&&t.flags&1048576&&Xh(t,Ei,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;li(e,t),e=t.pendingProps;var s=rr(t,ke.current);Zn(t,n),s=oc(null,t,r,e,s,n);var i=ac();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ae(r)?(i=!0,bi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,tc(t),s.updater=ro,t.stateNode=s,s._reactInternals=t,Ga(t,r,e,n),t=Za(null,t,r,!0,i,n)):(t.tag=0,Y&&i&&Kl(t),Se(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(li(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ty(r),e=Ze(r,e),s){case 0:t=Xa(null,t,r,e,n);break e;case 1:t=Du(null,t,r,e,n);break e;case 11:t=Au(null,t,r,e,n);break e;case 14:t=Lu(null,t,r,Ze(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ze(r,s),Xa(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ze(r,s),Du(e,t,r,s,n);case 3:e:{if(Rf(t),e===null)throw Error(C(387));r=t.pendingProps,i=t.memoizedState,s=i.element,sf(e,t),Ti(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ar(Error(C(423)),t),t=Mu(e,t,r,n,s);break e}else if(r!==s){s=ar(Error(C(424)),t),t=Mu(e,t,r,n,s);break e}else for($e=Ht(t.stateNode.containerInfo.firstChild),Ue=t,Y=!0,nt=null,n=nf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sr(),r===s){t=bt(e,t,n);break e}Se(e,t,r,n)}t=t.child}return t;case 5:return of(t),e===null&&Ja(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ba(r,s)?o=null:i!==null&&Ba(r,i)&&(t.flags|=32),Of(e,t),Se(e,t,o,n),t.child;case 6:return e===null&&Ja(t),null;case 13:return Af(e,t,n);case 4:return nc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ir(t,null,r,n):Se(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ze(r,s),Au(e,t,r,s,n);case 7:return Se(e,t,t.pendingProps,n),t.child;case 8:return Se(e,t,t.pendingProps.children,n),t.child;case 12:return Se(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,K(Ci,r._currentValue),r._currentValue=o,i!==null)if(it(i.value,o)){if(i.children===s.children&&!Re.current){t=bt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=_t(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Ka(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ka(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Se(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Zn(t,n),s=Ge(s),r=r(s),t.flags|=1,Se(e,t,r,n),t.child;case 14:return r=t.type,s=Ze(r,t.pendingProps),s=Ze(r.type,s),Lu(e,t,r,s,n);case 15:return Pf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ze(r,s),li(e,t),t.tag=1,Ae(r)?(e=!0,bi(t)):e=!1,Zn(t,n),Nf(t,r,s),Ga(t,r,s,n),Za(null,t,r,!0,e,n);case 19:return Lf(e,t,n);case 22:return Tf(e,t,n)}throw Error(C(156,t.tag))};function Gf(e,t){return jh(e,t)}function ey(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(e,t,n,r){return new ey(e,t,n,r)}function yc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ty(e){if(typeof e=="function")return yc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ml)return 11;if(e===Il)return 14}return 2}function Qt(e,t){var n=e.alternate;return n===null?(n=Je(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function di(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")yc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case $n:return xn(n.children,s,i,t);case Dl:o=8,s|=8;break;case wa:return e=Je(12,n,t,s|2),e.elementType=wa,e.lanes=i,e;case _a:return e=Je(13,n,t,s),e.elementType=_a,e.lanes=i,e;case ja:return e=Je(19,n,t,s),e.elementType=ja,e.lanes=i,e;case ih:return oo(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rh:o=10;break e;case sh:o=9;break e;case Ml:o=11;break e;case Il:o=14;break e;case At:o=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Je(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function xn(e,t,n,r){return e=Je(7,e,r,t),e.lanes=n,e}function oo(e,t,n,r){return e=Je(22,e,r,t),e.elementType=ih,e.lanes=n,e.stateNode={isHidden:!1},e}function oa(e,t,n){return e=Je(6,e,null,t),e.lanes=n,e}function aa(e,t,n){return t=Je(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ny(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zo(0),this.expirationTimes=zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vc(e,t,n,r,s,i,o,l,c){return e=new ny(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Je(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tc(i),e}function ry(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:In,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Yf(e){if(!e)return Xt;e=e._reactInternals;e:{if(Pn(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ae(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(Ae(n))return Gh(e,n,t)}return t}function Xf(e,t,n,r,s,i,o,l,c){return e=vc(n,r,!0,e,s,i,o,l,c),e.context=Yf(null),n=e.current,r=be(),s=Kt(n),i=_t(r,s),i.callback=t??null,Vt(n,i,s),e.current.lanes=s,ws(e,s,r),Le(e,r),e}function ao(e,t,n,r){var s=t.current,i=be(),o=Kt(s);return n=Yf(n),t.context===null?t.context=n:t.pendingContext=n,t=_t(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vt(s,t,o),e!==null&&(st(e,s,o,i),ii(e,s,o)),o}function $i(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xc(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}function sy(){return null}var Zf=typeof reportError=="function"?reportError:function(e){console.error(e)};function wc(e){this._internalRoot=e}lo.prototype.render=wc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));ao(e,t,null,null)};lo.prototype.unmount=wc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bn(function(){ao(null,e,null,null)}),t[kt]=null}};function lo(e){this._internalRoot=e}lo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ph();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&t!==0&&t<Mt[n].priority;n++);Mt.splice(n,0,e),n===0&&Oh(e)}};function _c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function co(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ju(){}function iy(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=$i(o);i.call(u)}}var o=Xf(t,r,e,0,null,!1,!1,"",Ju);return e._reactRootContainer=o,e[kt]=o.current,ss(e.nodeType===8?e.parentNode:e),bn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=$i(c);l.call(u)}}var c=vc(e,0,!1,null,null,!1,!1,"",Ju);return e._reactRootContainer=c,e[kt]=c.current,ss(e.nodeType===8?e.parentNode:e),bn(function(){ao(t,c,n,r)}),c}function uo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=$i(o);l.call(c)}}ao(t,o,e,s)}else o=iy(n,t,e,s,r);return $i(o)}Eh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mr(t.pendingLanes);n!==0&&(Fl(t,n|1),Le(t,se()),!(B&6)&&(lr=se()+500,tn()))}break;case 13:bn(function(){var r=St(e,1);if(r!==null){var s=be();st(r,e,1,s)}}),xc(e,1)}};zl=function(e){if(e.tag===13){var t=St(e,134217728);if(t!==null){var n=be();st(t,e,134217728,n)}xc(e,134217728)}};Ch=function(e){if(e.tag===13){var t=Kt(e),n=St(e,t);if(n!==null){var r=be();st(n,e,t,r)}xc(e,t)}};Ph=function(){return W};Th=function(e,t){var n=W;try{return W=e,t()}finally{W=n}};Ra=function(e,t,n){switch(t){case"input":if(ba(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=eo(r);if(!s)throw Error(C(90));ah(r),ba(r,s)}}}break;case"textarea":ch(e,n);break;case"select":t=n.value,t!=null&&Qn(e,!!n.multiple,t,!1)}};gh=mc;yh=bn;var oy={usingClientEntryPoint:!1,Events:[js,Bn,eo,mh,ph,mc]},Cr={findFiberByHostInstance:mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ay={bundleType:Cr.bundleType,version:Cr.version,rendererPackageName:Cr.rendererPackageName,rendererConfig:Cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wh(e),e===null?null:e.stateNode},findFiberByHostInstance:Cr.findFiberByHostInstance||sy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qs.isDisabled&&Qs.supportsFiber)try{Gi=Qs.inject(ay),ft=Qs}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oy;Be.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_c(t))throw Error(C(200));return ry(e,t,null,n)};Be.createRoot=function(e,t){if(!_c(e))throw Error(C(299));var n=!1,r="",s=Zf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=vc(e,1,!1,null,null,n,!1,r,s),e[kt]=t.current,ss(e.nodeType===8?e.parentNode:e),new wc(t)};Be.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=wh(t),e=e===null?null:e.stateNode,e};Be.flushSync=function(e){return bn(e)};Be.hydrate=function(e,t,n){if(!co(t))throw Error(C(200));return uo(null,e,t,!0,n)};Be.hydrateRoot=function(e,t,n){if(!_c(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Zf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Xf(t,null,e,1,n??null,s,!1,i,o),e[kt]=t.current,ss(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new lo(t)};Be.render=function(e,t,n){if(!co(t))throw Error(C(200));return uo(null,e,t,!1,n)};Be.unmountComponentAtNode=function(e){if(!co(e))throw Error(C(40));return e._reactRootContainer?(bn(function(){uo(null,null,e,!1,function(){e._reactRootContainer=null,e[kt]=null})}),!0):!1};Be.unstable_batchedUpdates=mc;Be.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!co(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return uo(e,t,n,!1,r)};Be.version="18.3.1-next-f1338f8080-20240426";function em(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(em)}catch(e){console.error(e)}}em(),Zd.exports=Be;var ly=Zd.exports,tm,Ku=ly;tm=Ku.createRoot,Ku.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fs.apply(this,arguments)}var zt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zt||(zt={}));const Qu="popstate";function cy(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return dl("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ui(s)}return dy(t,n,null,e)}function ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uy(){return Math.random().toString(36).substr(2,8)}function Gu(e,t){return{usr:e.state,key:e.key,idx:t}}function dl(e,t,n,r){return n===void 0&&(n=null),fs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?mr(t):t,{state:n,key:t&&t.key||r||uy()})}function Ui(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function mr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function dy(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=zt.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(fs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=zt.Pop;let j=d(),g=j==null?null:j-u;u=j,c&&c({action:l,location:w.location,delta:g})}function m(j,g){l=zt.Push;let p=dl(w.location,j,g);u=d()+1;let f=Gu(p,u),x=w.createHref(p);try{o.pushState(f,"",x)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(x)}i&&c&&c({action:l,location:w.location,delta:1})}function y(j,g){l=zt.Replace;let p=dl(w.location,j,g);u=d();let f=Gu(p,u),x=w.createHref(p);o.replaceState(f,"",x),i&&c&&c({action:l,location:w.location,delta:0})}function v(j){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof j=="string"?j:Ui(j);return p=p.replace(/ $/,"%20"),ie(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let w={get action(){return l},get location(){return e(s,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Qu,h),c=j,()=>{s.removeEventListener(Qu,h),c=null}},createHref(j){return t(s,j)},createURL:v,encodeLocation(j){let g=v(j);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:y,go(j){return o.go(j)}};return w}var Yu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yu||(Yu={}));function hy(e,t,n){return n===void 0&&(n="/"),fy(e,t,n,!1)}function fy(e,t,n,r){let s=typeof t=="string"?mr(t):t,i=jc(s.pathname||"/",n);if(i==null)return null;let o=rm(e);my(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=by(i);l=ky(o[c],u,r)}return l}function rm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ie(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Gt([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ie(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rm(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:_y(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of sm(i.path))s(i,o,c)}),t}function sm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=sm(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function my(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:jy(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const py=/^:[\w-]+$/,gy=3,yy=2,vy=1,xy=10,wy=-2,Xu=e=>e==="*";function _y(e,t){let n=e.split("/"),r=n.length;return n.some(Xu)&&(r+=wy),t&&(r+=yy),n.filter(s=>!Xu(s)).reduce((s,i)=>s+(py.test(i)?gy:i===""?vy:xy),r)}function jy(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function ky(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Zu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Zu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Gt([i,h.pathname]),pathnameBase:Py(Gt([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Gt([i,h.pathnameBase]))}return o}function Zu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Sy(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:y}=d;if(m==="*"){let w=l[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[h];return y&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Sy(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),nm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function by(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function jc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Ny(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?mr(e):e;return{pathname:n?n.startsWith("/")?n:Ey(n,t):t,search:Ty(r),hash:Oy(s)}}function Ey(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function la(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function kc(e,t){let n=Cy(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Sc(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=mr(e):(s=fs({},e),ie(!s.pathname||!s.pathname.includes("?"),la("?","pathname","search",s)),ie(!s.pathname||!s.pathname.includes("#"),la("#","pathname","hash",s)),ie(!s.search||!s.search.includes("#"),la("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=Ny(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Gt=e=>e.join("/").replace(/\/\/+/g,"/"),Py=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ty=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Oy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ry(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const im=["post","put","patch","delete"];new Set(im);const Ay=["get",...im];new Set(Ay);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ms(){return ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ms.apply(this,arguments)}const bc=k.createContext(null),Ly=k.createContext(null),nn=k.createContext(null),ho=k.createContext(null),Et=k.createContext({outlet:null,matches:[],isDataRoute:!1}),om=k.createContext(null);function Dy(e,t){let{relative:n}=t===void 0?{}:t;pr()||ie(!1);let{basename:r,navigator:s}=k.useContext(nn),{hash:i,pathname:o,search:l}=lm(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Gt([r,o])),s.createHref({pathname:c,search:l,hash:i})}function pr(){return k.useContext(ho)!=null}function gr(){return pr()||ie(!1),k.useContext(ho).location}function am(e){k.useContext(nn).static||k.useLayoutEffect(e)}function X(){let{isDataRoute:e}=k.useContext(Et);return e?Ky():My()}function My(){pr()||ie(!1);let e=k.useContext(bc),{basename:t,future:n,navigator:r}=k.useContext(nn),{matches:s}=k.useContext(Et),{pathname:i}=gr(),o=JSON.stringify(kc(s,n.v7_relativeSplatPath)),l=k.useRef(!1);return am(()=>{l.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=Sc(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Gt([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}function Ss(){let{matches:e}=k.useContext(Et),t=e[e.length-1];return t?t.params:{}}function lm(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=k.useContext(nn),{matches:s}=k.useContext(Et),{pathname:i}=gr(),o=JSON.stringify(kc(s,r.v7_relativeSplatPath));return k.useMemo(()=>Sc(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Iy(e,t){return $y(e,t)}function $y(e,t,n,r){pr()||ie(!1);let{navigator:s}=k.useContext(nn),{matches:i}=k.useContext(Et),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=gr(),d;if(t){var h;let j=typeof t=="string"?mr(t):t;c==="/"||(h=j.pathname)!=null&&h.startsWith(c)||ie(!1),d=j}else d=u;let m=d.pathname||"/",y=m;if(c!=="/"){let j=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(j.length).join("/")}let v=hy(e,{pathname:y}),w=qy(v&&v.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:Gt([c,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Gt([c,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,n,r);return t&&w?k.createElement(ho.Provider,{value:{location:ms({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:zt.Pop}},w):w}function Uy(){let e=Jy(),t=Ry(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:s},n):null,null)}const Fy=k.createElement(Uy,null);class zy extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?k.createElement(Et.Provider,{value:this.props.routeContext},k.createElement(om.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function By(e){let{routeContext:t,match:n,children:r}=e,s=k.useContext(bc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Et.Provider,{value:t},r)}function qy(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ie(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:y}=n,v=h.route.loader&&m[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let y,v=!1,w=null,j=null;n&&(y=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||Fy,c&&(u<0&&m===0?(v=!0,j=null):u===m&&(v=!0,j=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,m+1)),p=()=>{let f;return y?f=w:v?f=j:h.route.Component?f=k.createElement(h.route.Component,null):h.route.element?f=h.route.element:f=d,k.createElement(By,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:f})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?k.createElement(zy,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var cm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cm||{}),Fi=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Fi||{});function Wy(e){let t=k.useContext(bc);return t||ie(!1),t}function Hy(e){let t=k.useContext(Ly);return t||ie(!1),t}function Vy(e){let t=k.useContext(Et);return t||ie(!1),t}function um(e){let t=Vy(),n=t.matches[t.matches.length-1];return n.route.id||ie(!1),n.route.id}function Jy(){var e;let t=k.useContext(om),n=Hy(Fi.UseRouteError),r=um(Fi.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Ky(){let{router:e}=Wy(cm.UseNavigateStable),t=um(Fi.UseNavigateStable),n=k.useRef(!1);return am(()=>{n.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ms({fromRouteId:t},i)))},[e,t])}const ed={};function Qy(e,t){ed[t]||(ed[t]=!0,console.warn(t))}const td=(e,t,n)=>Qy(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Gy(e,t){(e==null?void 0:e.v7_startTransition)===void 0&&td("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(e==null?void 0:e.v7_relativeSplatPath)===void 0&&!t&&td("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Yy(e){let{to:t,replace:n,state:r,relative:s}=e;pr()||ie(!1);let{future:i,static:o}=k.useContext(nn),{matches:l}=k.useContext(Et),{pathname:c}=gr(),u=X(),d=Sc(t,kc(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return k.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function A(e){ie(!1)}function Xy(e){let{basename:t="/",children:n=null,location:r,navigationType:s=zt.Pop,navigator:i,static:o=!1,future:l}=e;pr()&&ie(!1);let c=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:i,static:o,future:ms({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=mr(r));let{pathname:d="/",search:h="",hash:m="",state:y=null,key:v="default"}=r,w=k.useMemo(()=>{let j=jc(d,c);return j==null?null:{location:{pathname:j,search:h,hash:m,state:y,key:v},navigationType:s}},[c,d,h,m,y,v,s]);return w==null?null:k.createElement(nn.Provider,{value:u},k.createElement(ho.Provider,{children:n,value:w}))}function Nc(e){let{children:t,location:n}=e;return Iy(hl(t),n)}new Promise(()=>{});function hl(e,t){t===void 0&&(t=[]);let n=[];return k.Children.forEach(e,(r,s)=>{if(!k.isValidElement(r))return;let i=[...t,s];if(r.type===k.Fragment){n.push.apply(n,hl(r.props.children,i));return}r.type!==A&&ie(!1),!r.props.index||!r.props.children||ie(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=hl(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fl.apply(this,arguments)}function Zy(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function ev(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tv(e,t){return e.button===0&&(!t||t==="_self")&&!ev(e)}const nv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rv="6";try{window.__reactRouterVersion=rv}catch{}const sv="startTransition",nd=Yp[sv];function iv(e){let{basename:t,children:n,future:r,window:s}=e,i=k.useRef();i.current==null&&(i.current=cy({window:s,v5Compat:!0}));let o=i.current,[l,c]=k.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=k.useCallback(h=>{u&&nd?nd(()=>c(h)):c(h)},[c,u]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.useEffect(()=>Gy(r),[r]),k.createElement(Xy,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const ov=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",av=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H=k.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,m=Zy(t,nv),{basename:y}=k.useContext(nn),v,w=!1;if(typeof u=="string"&&av.test(u)&&(v=u,ov))try{let f=new URL(window.location.href),x=u.startsWith("//")?new URL(f.protocol+u):new URL(u),_=jc(x.pathname,y);x.origin===f.origin&&_!=null?u=_+x.search+x.hash:w=!0}catch{}let j=Dy(u,{relative:s}),g=lv(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function p(f){r&&r(f),f.defaultPrevented||g(f)}return k.createElement("a",fl({},m,{href:v||j,onClick:w||i?r:p,ref:n,target:c}))});var rd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rd||(rd={}));var sd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sd||(sd={}));function lv(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=X(),u=gr(),d=lm(e,{relative:o});return k.useCallback(h=>{if(tv(h,n)){h.preventDefault();let m=r!==void 0?r:Ui(u)===Ui(d);c(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,i,o,l])}const cv="modulepreload",uv=function(e){return"/MEDICRM/"+e},id={},cr=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=uv(c),c in id)return;id[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":cv,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},dv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>cr(async()=>{const{default:r}=await Promise.resolve().then(()=>yr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Ec extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class hv extends Ec{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class fv extends Ec{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class mv extends Ec{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ml;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ml||(ml={}));var pv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class gv{constructor(t,{headers:n={},customFetch:r,region:s=ml.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=dv(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return pv(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(v=>{throw new hv(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new fv(d);if(!d.ok)throw new mv(d);let m=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield d.json():m==="application/octet-stream"?y=yield d.blob():m==="text/event-stream"?y=d:m==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Te={},Cc={},fo={},bs={},mo={},po={},yv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ur=yv();const vv=ur.fetch,dm=ur.fetch.bind(ur),hm=ur.Headers,xv=ur.Request,wv=ur.Response,yr=Object.freeze(Object.defineProperty({__proto__:null,Headers:hm,Request:xv,Response:wv,default:dm,fetch:vv},Symbol.toStringTag,{value:"Module"})),_v=Dp(yr);var go={};Object.defineProperty(go,"__esModule",{value:!0});let jv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};go.default=jv;var fm=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(po,"__esModule",{value:!0});const kv=fm(_v),Sv=fm(go);let bv=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=kv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),j=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,y="OK")}catch{i.status===404&&w===""?(m=204,y="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,y="OK"),u&&this.shouldThrowOnError)throw new Sv.default(u)}return{error:u,data:d,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}};po.default=bv;var Nv=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mo,"__esModule",{value:!0});const Ev=Nv(po);let Cv=class extends Ev.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};mo.default=Cv;var Pv=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bs,"__esModule",{value:!0});const Tv=Pv(mo);let Ov=class extends Tv.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};bs.default=Ov;var Rv=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fo,"__esModule",{value:!0});const Pr=Rv(bs);let Av=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Pr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Pr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Pr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Pr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Pr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};fo.default=Av;var yo={},vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.version=void 0;vo.version="0.0.0-automated";Object.defineProperty(yo,"__esModule",{value:!0});yo.DEFAULT_HEADERS=void 0;const Lv=vo;yo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Lv.version}`};var mm=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cc,"__esModule",{value:!0});const Dv=mm(fo),Mv=mm(bs),Iv=yo;let $v=class pm{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Iv.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new Dv.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new pm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Mv.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Cc.default=$v;var vr=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Te,"__esModule",{value:!0});Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const gm=vr(Cc);Te.PostgrestClient=gm.default;const ym=vr(fo);Te.PostgrestQueryBuilder=ym.default;const vm=vr(bs);Te.PostgrestFilterBuilder=vm.default;const xm=vr(mo);Te.PostgrestTransformBuilder=xm.default;const wm=vr(po);Te.PostgrestBuilder=wm.default;const _m=vr(go);Te.PostgrestError=_m.default;var Uv=Te.default={PostgrestClient:gm.default,PostgrestQueryBuilder:ym.default,PostgrestFilterBuilder:vm.default,PostgrestTransformBuilder:xm.default,PostgrestBuilder:wm.default,PostgrestError:_m.default};const{PostgrestClient:Fv,PostgrestQueryBuilder:Lj,PostgrestFilterBuilder:Dj,PostgrestTransformBuilder:Mj,PostgrestBuilder:Ij,PostgrestError:$j}=Uv,zv="2.11.2",Bv={"X-Client-Info":`realtime-js/${zv}`},qv="1.0.0",jm=1e4,Wv=1e3;var tr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(tr||(tr={}));var Me;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Me||(Me={}));var tt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(tt||(tt={}));var pl;(function(e){e.websocket="websocket"})(pl||(pl={}));var dn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(dn||(dn={}));class Hv{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class km{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(J||(J={}));const od=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Vv(o,e,t,s),i),{})},Vv=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Sm(i,o):gl(o)},Sm=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Gv(t,n)}switch(e){case J.bool:return Jv(t);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return Kv(t);case J.json:case J.jsonb:return Qv(t);case J.timestamp:return Yv(t);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return gl(t);default:return gl(t)}},gl=e=>e,Jv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Kv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Qv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Gv=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Sm(t,l))}return e},Yv=e=>typeof e=="string"?e.replace(" ","T"):e,bm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ca{constructor(t,n,r={},s=jm){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ad;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ad||(ad={}));class Kr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Kr.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Kr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const m=d.map(j=>j.presence_ref),y=h.map(j=>j.presence_ref),v=d.filter(j=>y.indexOf(j.presence_ref)<0),w=h.filter(j=>m.indexOf(j.presence_ref)<0);v.length>0&&(l[u]=v),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(y=>y.presence_ref),m=d.filter(y=>h.indexOf(y.presence_ref)<0);t[l].unshift(...m)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ld;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ld||(ld={}));var cd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cd||(cd={}));var yt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class Pc{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ca(this,tt.join,this.params,this.timeout),this.rejoinTimer=new km(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Me.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Kr(this),this.broadcastEndpointURL=bm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(yt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(yt.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(yt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,v=[];for(let w=0;w<y;w++){const j=m[w],{filter:{event:g,schema:p,table:f,filter:x}}=j,_=d&&d[w];if(_&&_.event===g&&_.schema===p&&_.table===f&&_.filter===x)v.push(Object.assign(Object.assign({},j),{id:_.id}));else{this.unsubscribe(),t==null||t(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(yt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Me.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new ca(this,tt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ca(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=tt;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,w,j;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((j=(w=y.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(y=>y.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,w,j,g,p,f;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const x=y.id,_=(v=y.filter)===null||v===void 0?void 0:v.event;return x&&((w=n.ids)===null||w===void 0?void 0:w.includes(x))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const x=(p=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return x==="*"||x===((f=n==null?void 0:n.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:w,table:j,commit_timestamp:g,type:p,errors:f}=v;m=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:g,eventType:p,new:{},old:{},errors:f}),this._getPayloadRecords(v))}y.callback(m,r)})}_isClosed(){return this.state===Me.closed}_isJoined(){return this.state===Me.joined}_isJoining(){return this.state===Me.joining}_isLeaving(){return this.state===Me.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Pc.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tt.close,{},t)}_onError(t){this._on(tt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Me.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=od(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=od(t.columns,t.old_record)),n}}const Xv=()=>{},Zv=typeof WebSocket<"u",ex=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tx{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Bv,this.params={},this.timeout=jm,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Xv,this.conn=null,this.sendBuffer=[],this.serializer=new Hv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>cr(async()=>{const{default:c}=await Promise.resolve().then(()=>yr);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${pl.websocket}`,this.httpEndpoint=bm(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new km(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Zv){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new nx(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),cr(async()=>{const{default:t}=await import("./browser-D3m7msmg.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qv}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case tr.connecting:return dn.Connecting;case tr.open:return dn.Open;case tr.closing:return dn.Closing;default:return dn.Closed}}isConnected(){return this.connectionState()===dn.Open}channel(t,n={config:{}}){const r=new Pc(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(tt.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Wv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(tt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([ex],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class nx{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=tr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Tc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function he(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rx extends Tc{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class yl extends Tc{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var sx=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Nm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>cr(async()=>{const{default:r}=await Promise.resolve().then(()=>yr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ix=()=>sx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cr(()=>Promise.resolve().then(()=>yr),void 0)).Response:Response}),vl=e=>{if(Array.isArray(e))return e.map(n=>vl(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=vl(r)}),t};var Tn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const ua=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ox=(e,t,n)=>Tn(void 0,void 0,void 0,function*(){const r=yield ix();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new rx(ua(s),e.status||500))}).catch(s=>{t(new yl(ua(s),s))}):t(new yl(ua(e),e))}),ax=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Ns(e,t,n,r,s,i){return Tn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,ax(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>ox(c,l,r))})})}function zi(e,t,n,r){return Tn(this,void 0,void 0,function*(){return Ns(e,"GET",t,n,r)})}function Dt(e,t,n,r,s){return Tn(this,void 0,void 0,function*(){return Ns(e,"POST",t,r,s,n)})}function lx(e,t,n,r,s){return Tn(this,void 0,void 0,function*(){return Ns(e,"PUT",t,r,s,n)})}function cx(e,t,n,r){return Tn(this,void 0,void 0,function*(){return Ns(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Em(e,t,n,r,s){return Tn(this,void 0,void 0,function*(){return Ns(e,"DELETE",t,r,s,n)})}var Ce=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const ux={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ud={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dx{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Nm(s)}uploadOrUpdate(t,n,r,s){return Ce(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ud),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield h.json();return h.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(he(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ce(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:ud.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(he(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Ce(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Tc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ce(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield Dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ce(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Dt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ce(this,void 0,void 0,function*(){try{const s=yield Dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}download(t,n){return Ce(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield zi(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(he(l))return{data:null,error:l};throw l}})}info(t){return Ce(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield zi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:vl(r),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}exists(t){return Ce(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield cx(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(he(r)&&r instanceof yl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Ce(this,void 0,void 0,function*(){try{return{data:yield Em(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ce(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ux),n),{prefix:t||""});return{data:yield Dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const hx="2.7.1",fx={"X-Client-Info":`storage-js/${hx}`};var An=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class mx{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},fx),n),this.fetch=Nm(r)}listBuckets(){return An(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(he(t))return{data:null,error:t};throw t}})}getBucket(t){return An(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return An(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return An(this,void 0,void 0,function*(){try{return{data:yield lx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}emptyBucket(t){return An(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}deleteBucket(t){return An(this,void 0,void 0,function*(){try{return{data:yield Em(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}}class px extends mx{constructor(t,n={},r){super(t,n,r)}from(t){return new dx(this.url,this.headers,t,this.fetch)}}const gx="2.47.15";let $r="";typeof Deno<"u"?$r="deno":typeof document<"u"?$r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$r="react-native":$r="node";const yx={"X-Client-Info":`supabase-js-${$r}/${gx}`},vx={headers:yx},xx={schema:"public"},wx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_x={};var jx=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const kx=e=>{let t;return e?t=e:typeof fetch>"u"?t=dm:t=fetch,(...n)=>t(...n)},Sx=()=>typeof Headers>"u"?hm:Headers,bx=(e,t,n)=>{const r=kx(n),s=Sx();return(i,o)=>jx(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Nx=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function Ex(e){return e.replace(/\/$/,"")}function Cx(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Nx(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Cm="2.67.3",Px="http://localhost:9999",Tx="supabase.auth.token",Ox={"X-Client-Info":`gotrue-js/${Cm}`},dd=10,xl="X-Supabase-Api-Version",Pm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Rx(e){return Math.round(Date.now()/1e3)+e}function Ax(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ut=()=>typeof window<"u"&&typeof document<"u",on={tested:!1,writable:!1},Qr=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(on.tested)return on.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),on.tested=!0,on.writable=!0}catch{on.tested=!0,on.writable=!1}return on.writable};function Lx(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Tm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>cr(async()=>{const{default:r}=await Promise.resolve().then(()=>yr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Dx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Om=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Gs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ys=async(e,t)=>{await e.removeItem(t)};function Mx(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,l,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),r=o<<2|l>>4,s=(l&15)<<4|c>>2,i=(c&3)<<6|u,n=n+String.fromCharCode(r),c!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class xo{constructor(){this.promise=new xo.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}xo.promiseConstructor=Promise;function hd(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Mx(r))}async function Ix(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $x(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Ux(e){return("0"+e.toString(16)).substr(-2)}function Fx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Ux).join("")}async function zx(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function Bx(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await zx(e);return Bx(n)}async function Ln(e,t,n=!1){const r=Fx();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Om(e,`${t}-code-verifier`,s);const i=await qx(r);return[i,r===i?"plain":"s256"]}const Wx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hx(e){const t=e.headers.get(xl);if(!t||!t.match(Wx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Oc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function $(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Vx extends Oc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Jx(e){return $(e)&&e.name==="AuthApiError"}class Rm extends Oc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class On extends Oc{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Ot extends On{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Kx(e){return $(e)&&e.name==="AuthSessionMissingError"}class da extends On{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xs extends On{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zs extends On{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qx(e){return $(e)&&e.name==="AuthImplicitGrantRedirectError"}class fd extends On{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wl extends On{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ha(e){return $(e)&&e.name==="AuthRetryableFetchError"}class md extends On{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Gx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const cn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yx=[502,503,504];async function pd(e){var t;if(!Dx(e))throw new wl(cn(e),0);if(Yx.includes(e.status))throw new wl(cn(e),e.status);let n;try{n=await e.json()}catch(i){throw new Rm(cn(i),i)}let r;const s=Hx(e);if(s&&s.getTime()>=Pm["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new md(cn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ot}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new md(cn(n),e.status,n.weak_password.reasons);throw new Vx(cn(n),e.status||500,r)}const Xx=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function z(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[xl]||(i[xl]=Pm["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Zx(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Zx(e,t,n,r,s,i){const o=Xx(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new wl(cn(c),0)}if(l.ok||await pd(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await pd(c)}}function Rt(e){var t;let n=null;rw(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Rx(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function gd(e){const t=Rt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function $t(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ew(e){return{data:e,error:null}}function tw(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Gx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function nw(e){return e}function rw(e){return e.access_token&&e.refresh_token&&e.expires_in}var sw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class iw{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Tm(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$t})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=sw(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:tw,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$t})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:nw});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(v.split(";")[1].split("=")[1]);u[`${j}Page`]=w}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$t})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:$t})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:$t})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}const ow={getItem:e=>Qr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Qr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Qr()&&globalThis.localStorage.removeItem(e)}};function yd(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function aw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Dn={debug:!!(globalThis&&Qr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Am extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class lw extends Am{}async function cw(e,t,n){Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Dn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}aw();const uw={url:Px,storageKey:Tx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ox,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Tr=30*1e3,vd=3;async function xd(e,t,n){return await n()}class ps{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ps.nextInstanceID,ps.nextInstanceID+=1,this.instanceID>0&&ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},uw),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new iw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Tm(s.fetch),this.lock=s.lock||xd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ut()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=cw:this.lock=xd,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Qr()?this.storage=ow:(this.memoryStorage={},this.storage=yd(this.memoryStorage)):(this.memoryStorage={},this.storage=yd(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Cm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Lx(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ut()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Qx(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $(n)?{error:n}:{error:new Rm("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Rt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Ln(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:v},xform:Rt})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Rt})}else throw new Xs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gd})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gd})}else throw new Xs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new da}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Gs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Rt});if(await Ys(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new da}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if($(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Rt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new da}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ln(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Xs("You must provide either an email or phone number.")}catch(l){if($(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Rt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ln(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ew})}catch(i){if($(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ot;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if($(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await z(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await z(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Xs("You must provide either an email or phone number and a type")}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:$t}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ot}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:$t})})}catch(n){if($(n))return Kx(n)&&(await this._removeSession(),await Ys(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ot;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ln(this.storage,this.storageKey));const{data:u,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:$t});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return hd(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ot;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=hd(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if($(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ot;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ut())throw new Zs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new fd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fd("No code detected.");const{data:p,error:f}=await this._exchangeCodeForSession(t.code);if(f)throw f;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Zs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const y=m-d;y*1e3<=Tr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=m-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,d);const{data:w,error:j}=await this._getUser(i);if(j)throw j;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if($(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Gs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Jx(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ys(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Ax(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ln(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if($(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ut()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if($(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await $x(async s=>(s>0&&await Ix(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Rt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ha(i)&&Date.now()+o-r<Tr})}catch(r){if(this._debug(n,"error",r),$(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ut()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Gs(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+dd;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${dd}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),ha(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new xo;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ot;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),$(i)){const o={session:null,error:i};return ha(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Om(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ys(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Tr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Tr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Tr}ms, refresh threshold is ${vd} ticks`),s<=vd&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Am)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ln(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}}ps.nextInstanceID=0;const dw=ps;class hw extends dw{constructor(t){super(t)}}var fw=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class mw{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Ex(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:xx,realtime:_x,auth:Object.assign(Object.assign({},wx),{storageKey:c}),global:vx},d=Cx(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=bx(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Fv(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new gv(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new px(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return fw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){var h;const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hw({url:this.authUrl,headers:Object.assign(Object.assign({},m),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new tx(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pw=(e,t,n)=>new mw(e,t,n),gw="https://docdkfrgohmgvlmmxvmx.supabase.co",yw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRvY2RrZnJnb2htZ3ZsbW14dm14Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzcwMzExNTEsImV4cCI6MjA1MjYwNzE1MX0.ZpVO4PgytS2nu3ST3Y4Zqlw_m2nPNghXnml0SKMLc3U",T=pw(gw,yw,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{headers:{"x-application-name":"msl-portal"}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}});T.auth.onAuthStateChange((e,t)=>{console.log("Auth state changed:",e,t),t?localStorage.setItem("supabaseSession",JSON.stringify(t)):localStorage.removeItem("supabaseSession")});const vw=async()=>{const e=localStorage.getItem("supabaseSession");if(e){const{data:{session:t},error:n}=await T.auth.setSession(JSON.parse(e));n?console.error("Error restoring session:",n):console.log("Restored session:",t)}};vw();const Lm=k.createContext({session:null,user:null,loading:!0,error:null,retryAuth:async()=>{}});function xw({children:e}){const[t,n]=k.useState(null),[r,s]=k.useState(null),[i,o]=k.useState(!0),[l,c]=k.useState(null),[u,d]=k.useState(0),h=3,m=2e3,y=async()=>{try{o(!0),c(null);const w=localStorage.getItem("supabase.auth.token");if(w)try{const p=JSON.parse(w);p!=null&&p.currentSession&&(n(p.currentSession),s(p.currentSession.user))}catch(p){console.warn("Error parsing stored session:",p)}const{data:{session:j},error:g}=await T.auth.getSession();if(g)throw g;n(j),s((j==null?void 0:j.user)??null),d(0),j&&localStorage.setItem("supabase.auth.token",JSON.stringify({currentSession:j,expiresAt:Date.now()+(j.expires_in||3600)*1e3}))}catch(w){console.error("Error initializing auth:",w),u<h?(d(j=>j+1),setTimeout(y,m*Math.pow(2,u))):c("Unable to connect to authentication service. Please check your connection and try again.")}finally{o(!1)}};k.useEffect(()=>{y();const{data:{subscription:w}}=T.auth.onAuthStateChange(async(j,g)=>{try{n(g),s((g==null?void 0:g.user)??null),c(null),g?localStorage.setItem("supabase.auth.token",JSON.stringify({currentSession:g,expiresAt:Date.now()+(g.expires_in||3600)*1e3})):localStorage.removeItem("supabase.auth.token")}catch(p){console.error("Error during auth state change:",p),c("Authentication error occurred. Please try again.")}finally{o(!1)}});return()=>w.unsubscribe()},[]);const v=async()=>{d(0),await y()};return i?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):l?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsx("div",{className:"max-w-md w-full mx-auto p-6 bg-white rounded-lg shadow-md",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-2",children:"Connection Error"}),a.jsx("p",{className:"text-gray-600 mb-4",children:l}),a.jsx("button",{onClick:v,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Retry Connection"})]})})}):a.jsx(Lm.Provider,{value:{session:t,user:r,loading:i,error:l,retryAuth:v},children:e})}function wo(){return k.useContext(Lm)}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ww={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>k.createElement("svg",{ref:d,...ww,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${_w(e)}`,l].join(" "),...u},[...t.map(([h,m])=>k.createElement(h,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=V("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=V("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=V("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=V("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=V("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=V("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=V("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=V("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=V("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=V("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=V("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=V("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=V("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=V("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=V("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=V("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Bm({children:e,title:t}){return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(Im,{className:"h-12 w-12 text-indigo-600"})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:t})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:e})})]})}function Ac(){const e=X(),[t,n]=k.useState(!1),[r,s]=k.useState(null),[i,o]=k.useState({email:"",password:"",confirmPassword:"",name:""});async function l(c){if(c.preventDefault(),s(null),i.password.length<6){s("Password must be at least 6 characters long");return}if(i.password!==i.confirmPassword){s("Passwords do not match");return}try{n(!0);const{data:u,error:d}=await T.from("admins").select("email").eq("email",i.email);if(d)throw d;if(u&&u.length>0){s("An account with this email already exists");return}const{data:h,error:m}=await T.auth.signUp({email:i.email,password:i.password});if(m)throw m;if(!h.user)throw new Error("No user data returned");const{error:y}=await T.from("admins").insert([{auth_id:h.user.id,email:i.email,name:i.name}]);if(y)throw await T.auth.signOut(),y;alert("Signup successful! Please log in to continue."),e("/adminlogin")}catch(u){console.error("Error during signup:",u),s(u instanceof Error?u.message:"An error occurred during signup. Please try again.");try{await T.auth.signOut()}catch(d){console.error("Cleanup error:",d)}}finally{n(!1)}}return a.jsx(Bm,{title:"Create Admin Account",children:a.jsxs("form",{className:"space-y-6",onSubmit:l,children:[r&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",children:r}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),a.jsx("input",{id:"name",type:"text",required:!0,value:i.name,onChange:c=>o({...i,name:c.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsx("input",{id:"email",type:"email",required:!0,value:i.email,onChange:c=>o({...i,email:c.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{id:"password",type:"password",required:!0,minLength:6,value:i.password,onChange:c=>o({...i,password:c.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Must be at least 6 characters long"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),a.jsx("input",{id:"confirmPassword",type:"password",required:!0,minLength:6,value:i.confirmPassword,onChange:c=>o({...i,confirmPassword:c.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:t,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:t?"Creating account...":"Sign up"})}),a.jsxs("div",{className:"text-sm text-center",children:["Already have an account?"," ",a.jsx(H,{to:"/adminlogin",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign in"})]})]})})}function Lc(){const e=X(),[t,n]=k.useState(!1),[r,s]=k.useState(null),[i,o]=k.useState({email:"",password:""});async function l(c){c.preventDefault(),s(null);try{n(!0);const{error:u,data:{user:d}}=await T.auth.signInWithPassword({email:i.email,password:i.password});if(u)throw u;if(!d)throw new Error("No user data returned");const{data:h,error:m}=await T.from("admins").select("*").eq("auth_id",d.id).single();if(m||!h)throw await T.auth.signOut(),new Error("Login failed: Not an admin account");alert("Login successful"),e("/admindashboard")}catch(u){console.error("Error during login:",u),s(u instanceof Error?u.message:"Login failed")}finally{n(!1)}}return a.jsx(Bm,{title:"Admin Login",children:a.jsxs("form",{className:"space-y-6",onSubmit:l,children:[r&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",children:r}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsx("input",{id:"email",type:"email",required:!0,value:i.email,onChange:c=>o({...i,email:c.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{id:"password",type:"password",required:!0,value:i.password,onChange:c=>o({...i,password:c.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:t,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:t?"Signing in...":"Sign in"})}),a.jsxs("div",{className:"text-sm text-center mt-4",children:["New admin?"," ",a.jsx(H,{to:"/admin/signup",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Create an account"})]})]})})}function Rw(){const e=X(),[t,n]=k.useState({email:"",password:""}),[r,s]=k.useState(null),i=l=>{n({...t,[l.target.name]:l.target.value})},o=async l=>{l.preventDefault(),s(null);try{const{data:c,error:u}=await T.auth.signInWithPassword({email:t.email,password:t.password});if(u)throw new Error(u.message);if(!c.user)throw new Error("Invalid login credentials");e("/maindashboard")}catch(c){s(c instanceof Error?c.message:"An error occurred")}};return a.jsxs("div",{className:"max-w-md mx-auto mt-10 bg-white p-6 rounded-lg shadow-md",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User Login"}),r&&a.jsx("div",{className:"text-red-500 mb-4",children:r}),a.jsxs("form",{onSubmit:o,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{id:"email",type:"email",name:"email",value:t.email,onChange:i,className:"mt-1 p-2 block w-full border rounded-md"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{id:"password",type:"password",name:"password",value:t.password,onChange:i,className:"mt-1 p-2 block w-full border rounded-md"})]}),a.jsx("button",{type:"submit",className:"bg-indigo-600 text-white py-2 px-4 rounded hover:bg-indigo-700",children:"Login"})]})]})}function gs(){const e=X(),t=async()=>{try{await T.auth.signOut(),e("/login")}catch(n){console.error("Error signing out:",n)}};return a.jsx(a.Fragment,{children:a.jsx("nav",{className:"bg-indigo-600 text-white py-4 px-6 shadow-md",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("ul",{className:"flex space-x-6",children:[a.jsx("li",{children:a.jsx(H,{to:"/adminlogin",className:"hover:underline",children:"User Management"})}),a.jsx("li",{children:a.jsx(H,{to:"/",className:"hover:underline",children:"Medical Affairs CRM"})}),a.jsx("li",{children:a.jsx(H,{to:"/sales-crm",className:"hover:underline",children:"Sales CRM"})}),a.jsx("li",{children:a.jsx(H,{to:"/ctms",className:"hover:underline",children:"CTMS"})}),a.jsx("li",{children:a.jsx(H,{to:"/iis",className:"hover:underline",children:"IIS"})}),a.jsx("li",{children:a.jsx(H,{to:"/map",className:"hover:underline",children:"MAP"})}),a.jsx("li",{children:a.jsx(H,{to:"/legal",className:"hover:underline",children:"Legal"})})]}),a.jsxs("button",{onClick:t,className:"flex items-center space-x-2 hover:bg-indigo-700 px-3 py-2 rounded-lg transition-colors",children:[a.jsx(bw,{className:"h-5 w-5"}),a.jsx("span",{children:"Log Out"})]})]})})})}const We=({userRole:e,handleSignOut:t})=>{const[n,r]=k.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsx(gs,{}),a.jsx("nav",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between h-16",children:[a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0 flex items-center",children:a.jsx(Im,{className:"h-8 w-8 text-indigo-600"})}),a.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[a.jsx(H,{to:e==="MSL Manager"?"/dashboard/msl":"/dashboard/manager",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Home"}),a.jsx(H,{to:"/customers",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Customers"}),a.jsx(H,{to:"/interactions",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Interactions"}),a.jsx(H,{to:"/tasks",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Tasks"}),a.jsx(H,{to:"/previsit",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Pre-visit Reports"}),a.jsx(H,{to:"/datasources",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Data Sources"})]})]}),a.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:a.jsxs("div",{className:"ml-3 relative",children:[a.jsx("div",{children:a.jsxs("button",{type:"button",className:"bg-white flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>r(!n),children:[a.jsx("span",{className:"sr-only",children:"Open user menu"}),a.jsx(Cs,{className:"h-8 w-8 rounded-full"})]})}),n&&a.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:a.jsx("button",{onClick:t,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign out"})})]})})]})})})]})};function qm(){const e="Admin",t=async()=>{try{await T.auth.signOut(),n("/login")}catch(_){console.error("Error signing out:",_)}},n=X(),[r,s]=k.useState([]),[i,o]=k.useState(!0),[l,c]=k.useState(""),[u,d]=k.useState("name"),[h,m]=k.useState("asc"),[y,v]=k.useState(""),[w,j]=k.useState([]);k.useEffect(()=>{g()},[u,h,y]);async function g(){try{o(!0);let _=T.from("customers").select("*").order(u,{ascending:h==="asc"});y&&(_=_.eq("specialty",y));const{data:N,error:S}=await _;if(S)throw S;if(N){const P=Array.from(new Set(N.map(E=>E.specialty).filter(Boolean)));j(P);const L=l?N.filter(E=>{var D,oe,Ct;return E.name.toLowerCase().includes(l.toLowerCase())||((D=E.email)==null?void 0:D.toLowerCase().includes(l.toLowerCase()))||((oe=E.specialty)==null?void 0:oe.toLowerCase().includes(l.toLowerCase()))||((Ct=E.affiliation)==null?void 0:Ct.toLowerCase().includes(l.toLowerCase()))}):N;s(L)}}catch(_){console.error("Error loading customers:",_),alert("Error loading customers")}finally{o(!1)}}async function p(_){if(confirm("Are you sure you want to delete this customer?"))try{const{error:N}=await T.from("customers").delete().eq("id",_);if(N)throw N;s(r.filter(S=>S.id!==_))}catch(N){console.error("Error deleting customer:",N),alert("Error deleting customer")}}function f(_){u===_?m(h==="asc"?"desc":"asc"):(d(_),m("asc"))}const x=({field:_})=>u!==_?null:h==="asc"?a.jsx(jo,{className:"h-4 w-4"}):a.jsx(_o,{className:"h-4 w-4"});return i?a.jsx("div",{className:"text-center",children:"Loading..."}):a.jsxs(a.Fragment,{children:[a.jsx(We,{userRole:e,handleSignOut:t}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Customers"}),a.jsx(H,{to:"/customers/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Add Customer"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{type:"text",placeholder:"Search customers...",value:l,onChange:_=>{c(_.target.value),g()},className:"pl-10 pr-4 py-2 w-full border rounded-md focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx(Es,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]}),a.jsxs("select",{value:y,onChange:_=>v(_.target.value),className:"w-full sm:w-48 border rounded-md py-2 px-3 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"All Specialties"}),w.map(_=>a.jsx("option",{value:_,children:_},_))]})]})]}),a.jsx("div",{className:"border-t border-gray-200 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>f("name"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Name"}),a.jsx(x,{field:"name"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>f("specialty"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Specialty"}),a.jsx(x,{field:"specialty"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>f("affiliation"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Affiliation"}),a.jsx(x,{field:"affiliation"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>f("email"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Email"}),a.jsx(x,{field:"email"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(_=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:a.jsx(H,{to:`/customerdetails/${_.id}`,className:"text-sm font-medium text-indigo-600 hover:underline",children:_.name})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.specialty}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.affiliation}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.email}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(H,{to:`/customers/${_.id}`,className:"text-indigo-600 hover:text-indigo-900",children:a.jsx(So,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>p(_.id),className:"text-red-600 hover:text-red-900",children:a.jsx(bo,{className:"h-5 w-5"})})]})})]},_.id))})]})})]})]})}function Wm(){const e="Admin",t=async()=>{try{await T.auth.signOut(),r("/login")}catch(y){console.error("Error signing out:",y)}},{id:n}=Ss(),r=X(),[s,i]=k.useState(!1),[o,l]=k.useState(null),[c,u]=k.useState({name:"",specialty:"",affiliation:"",phone:"",email:"",address:""});k.useEffect(()=>{n&&n!=="new"&&h()},[n]);function d(y){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(y)}async function h(){if(!n||!d(n)){console.warn("Invalid or missing customer ID");return}try{i(!0);const{data:y,error:v}=await T.from("customers").select("*").eq("id",n).single();if(v)throw v;y&&u(y)}catch(y){console.error("Error loading customer:",y),l("Error loading customer. Please try again.")}finally{i(!1)}}async function m(y){y.preventDefault(),l(null);try{if(i(!0),n&&n!=="new"){const{error:v}=await T.from("customers").update(c).eq("id",n);if(v)throw v}else{const{error:v}=await T.from("customers").insert([c]);if(v)throw v}r("/customers")}catch(v){console.error("Error saving customer:",v),l("Error saving customer. Please try again.")}finally{i(!1)}}return a.jsxs(a.Fragment,{children:[a.jsx(We,{userRole:e,handleSignOut:t}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:n?"Edit Customer":"New Customer"}),o&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",children:o}),a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),a.jsx("input",{type:"text",required:!0,value:c.name,onChange:y=>u({...c,name:y.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Specialty"}),a.jsx("input",{type:"text",value:c.specialty||"",onChange:y=>u({...c,specialty:y.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Affiliation"}),a.jsx("input",{type:"text",value:c.affiliation||"",onChange:y=>u({...c,affiliation:y.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("input",{type:"tel",value:c.phone||"",onChange:y=>u({...c,phone:y.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",value:c.email||"",onChange:y=>u({...c,email:y.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),a.jsx("textarea",{value:c.address||"",onChange:y=>u({...c,address:y.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>r("/customers"),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s?"Saving...":"Save"})]})]})]})]})}function Bi(){const[e,t]=k.useState([]),[n,r]=k.useState(!0),[s,i]=k.useState(""),[o,l]=k.useState("name"),[c,u]=k.useState("asc"),[d,h]=k.useState(""),[m,y]=k.useState(""),[v,w]=k.useState([]),j=X();k.useEffect(()=>{g()},[o,c,d,m]);async function g(){try{r(!0);let _=T.from("users").select("*").order(o,{ascending:c==="asc"});d&&(_=_.eq("role",d)),m&&(_=_.eq("region",m));const{data:N,error:S}=await _;if(S)throw S;if(N){const P=Array.from(new Set(N.map(E=>E.region).filter(Boolean)));w(P);const L=s?N.filter(E=>{var D;return E.name.toLowerCase().includes(s.toLowerCase())||E.email.toLowerCase().includes(s.toLowerCase())||((D=E.region)==null?void 0:D.toLowerCase().includes(s.toLowerCase()))}):N;t(L)}}catch(_){console.error("Error loading users:",_),alert("Error loading users")}finally{r(!1)}}async function p(_){if(confirm("Are you sure you want to delete this user?"))try{const{error:N}=await T.from("users").delete().eq("id",_);if(N)throw N;t(e.filter(S=>S.id!==_))}catch(N){console.error("Error deleting user:",N),alert("Error deleting user")}}function f(_){o===_?u(c==="asc"?"desc":"asc"):(l(_),u("asc"))}const x=({field:_})=>o!==_?null:c==="asc"?a.jsx(jo,{className:"h-4 w-4"}):a.jsx(_o,{className:"h-4 w-4"});return n?a.jsx("div",{className:"text-center",children:"Loading..."}):a.jsxs("div",{className:"min-h-screen bg-gray-100",children:[a.jsx("nav",{className:"bg-indigo-600 text-white p-4",children:a.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Admin Panel"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx(H,{to:"/users",className:"hover:bg-indigo-700 px-3 py-2 rounded-md text-sm font-medium",children:"Manage Users"}),a.jsx("button",{onClick:()=>j("/maindashboard"),className:"hover:bg-red-700 bg-red-600 px-3 py-2 rounded-md text-sm font-medium",children:"Sign Out"})]})]})}),a.jsxs("div",{className:"bg-white shadow rounded-lg mt-6 mx-4",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Users"}),a.jsx(H,{to:"/users/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Add User"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{type:"text",placeholder:"Search users...",value:s,onChange:_=>{i(_.target.value),g()},className:"pl-10 pr-4 py-2 w-full border rounded-md focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx(Es,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]}),a.jsxs("select",{value:d,onChange:_=>h(_.target.value),className:"w-full sm:w-48 border rounded-md py-2 px-3 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"All Roles"}),a.jsx("option",{value:"MSL",children:"MSL"}),a.jsx("option",{value:"MSL Manager",children:"MSL Manager"}),a.jsx("option",{value:"System Manager",children:"System Manager"}),a.jsx("option",{value:"Compliance Manager",children:"Compliance Manager"}),a.jsx("option",{value:"Database Manager",children:"Database Manager"})]}),a.jsxs("select",{value:m,onChange:_=>y(_.target.value),className:"w-full sm:w-48 border rounded-md py-2 px-3 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"All Regions"}),v.map(_=>a.jsx("option",{value:_,children:_},_))]})]})]}),a.jsx("div",{className:"border-t border-gray-200 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>f("name"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Name"}),a.jsx(x,{field:"name"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>f("email"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Email"}),a.jsx(x,{field:"email"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>f("role"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Role"}),a.jsx(x,{field:"role"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>f("region"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Region"}),a.jsx(x,{field:"region"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(_=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.email}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.role}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.region}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(H,{to:`/users/${_.id}`,className:"text-indigo-600 hover:text-indigo-900",children:a.jsx(So,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>p(_.id),className:"text-red-600 hover:text-red-900",children:a.jsx(bo,{className:"h-5 w-5"})})]})})]},_.id))})]})})]})]})}function qi(){const{id:e}=Ss(),t=X(),[n,r]=k.useState(!1),[s,i]=k.useState(null),[o,l]=k.useState({id:"",name:"",email:"",role:"MSL",phone:"",region:"",password:""});k.useEffect(()=>{e&&c()},[e]);async function c(){try{r(!0);const{data:d,error:h}=await T.from("users").select("*").eq("id",e).single();if(h)throw h;d&&l(d)}catch(d){console.error("Error loading user:",d),i("Error loading user. Please try again.")}finally{r(!1)}}async function u(d){d.preventDefault(),i(null);try{if(r(!0),e){const{error:h}=await T.from("users").update({name:o.name,email:o.email,role:o.role,phone:o.phone||null,region:o.region||null}).eq("id",e);if(h)throw h}else{if(!o.password)throw new Error("Password is required for new users");const{data:h,error:m}=await T.auth.signUp({email:o.email,password:o.password});if(m)throw m;if(!h.user)throw new Error("Failed to create user");const{error:y}=await T.from("users").insert([{id:h.user.id,name:o.name,email:o.email,role:o.role,phone:o.phone||null,region:o.region||null}]);if(y)throw y}t("/users")}catch(h){console.error("Error saving user:",h),i(h instanceof Error?h.message:"Error saving user. Please try again.")}finally{r(!1)}}return a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:e?"Edit User":"New User"}),s&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",children:s}),a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),a.jsx("input",{type:"text",required:!0,value:o.name,onChange:d=>l({...o,name:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",required:!0,value:o.email,onChange:d=>l({...o,email:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),!e&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{type:"password",required:!0,minLength:6,value:o.password,onChange:d=>l({...o,password:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Must be at least 6 characters long"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),a.jsxs("select",{required:!0,value:o.role,onChange:d=>l({...o,role:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[a.jsx("option",{value:"MSL",children:"MSL"}),a.jsx("option",{value:"MSL Manager",children:"MSL Manager"}),a.jsx("option",{value:"System Manager",children:"System Manager"}),a.jsx("option",{value:"Compliance Manager",children:"Compliance Manager"}),a.jsx("option",{value:"Database Manager",children:"Database Manager"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("input",{type:"tel",value:o.phone||"",onChange:d=>l({...o,phone:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Region"}),a.jsx("input",{type:"text",value:o.region||"",onChange:d=>l({...o,region:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>t("/users"),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:n?"Saving...":"Save"})]})]})]})}function ot(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Nn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Hm=6048e5,Aw=864e5;let Lw={};function No(){return Lw}function ys(e,t){var l,c,u,d;const n=No(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=ot(e),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Wi(e){return ys(e,{weekStartsOn:1})}function Vm(e){const t=ot(e),n=t.getFullYear(),r=Nn(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Wi(r),i=Nn(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Wi(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function _d(e){const t=ot(e);return t.setHours(0,0,0,0),t}function jd(e){const t=ot(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Dw(e,t){const n=_d(e),r=_d(t),s=+n-jd(n),i=+r-jd(r);return Math.round((s-i)/Aw)}function Mw(e){const t=Vm(e),n=Nn(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Wi(n)}function Iw(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $w(e){if(!Iw(e)&&typeof e!="number")return!1;const t=ot(e);return!isNaN(Number(t))}function Uw(e){const t=ot(e),n=Nn(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Fw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zw=(e,t,n)=>{let r;const s=Fw[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function fa(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Bw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ww={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hw={date:fa({formats:Bw,defaultWidth:"full"}),time:fa({formats:qw,defaultWidth:"full"}),dateTime:fa({formats:Ww,defaultWidth:"full"})},Vw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jw=(e,t,n,r)=>Vw[e];function Or(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Kw={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Gw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yw={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Zw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},e1=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},t1={ordinalNumber:e1,era:Or({values:Kw,defaultWidth:"wide"}),quarter:Or({values:Qw,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Or({values:Gw,defaultWidth:"wide"}),day:Or({values:Yw,defaultWidth:"wide"}),dayPeriod:Or({values:Xw,defaultWidth:"wide",formattingValues:Zw,defaultFormattingWidth:"wide"})};function Rr(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?r1(l,h=>h.test(o)):n1(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function n1(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function r1(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function s1(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const i1=/^(\d+)(th|st|nd|rd)?/i,o1=/\d+/i,a1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l1={any:[/^b/i,/^(a|c)/i]},c1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},u1={any:[/1/i,/2/i,/3/i,/4/i]},d1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},h1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},f1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},m1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},p1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},g1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},y1={ordinalNumber:s1({matchPattern:i1,parsePattern:o1,valueCallback:e=>parseInt(e,10)}),era:Rr({matchPatterns:a1,defaultMatchWidth:"wide",parsePatterns:l1,defaultParseWidth:"any"}),quarter:Rr({matchPatterns:c1,defaultMatchWidth:"wide",parsePatterns:u1,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Rr({matchPatterns:d1,defaultMatchWidth:"wide",parsePatterns:h1,defaultParseWidth:"any"}),day:Rr({matchPatterns:f1,defaultMatchWidth:"wide",parsePatterns:m1,defaultParseWidth:"any"}),dayPeriod:Rr({matchPatterns:p1,defaultMatchWidth:"any",parsePatterns:g1,defaultParseWidth:"any"})},v1={code:"en-US",formatDistance:zw,formatLong:Hw,formatRelative:Jw,localize:t1,match:y1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function x1(e){const t=ot(e);return Dw(t,Uw(t))+1}function w1(e){const t=ot(e),n=+Wi(t)-+Mw(t);return Math.round(n/Hm)+1}function Jm(e,t){var d,h,m,y;const n=ot(e),r=n.getFullYear(),s=No(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(m=s.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=Nn(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=ys(o,t),c=Nn(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=ys(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function _1(e,t){var l,c,u,d;const n=No(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Jm(e,t),i=Nn(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),ys(i,t)}function j1(e,t){const n=ot(e),r=+ys(n,t)-+_1(n,t);return Math.round(r/Hm)+1}function q(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Tt={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return q(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):q(n+1,2)},d(e,t){return q(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return q(e.getHours()%12||12,t.length)},H(e,t){return q(e.getHours(),t.length)},m(e,t){return q(e.getMinutes(),t.length)},s(e,t){return q(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return q(s,t.length)}},Mn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kd={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Tt.y(e,t)},Y:function(e,t,n,r){const s=Jm(e,r),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return q(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):q(i,t.length)},R:function(e,t){const n=Vm(e);return q(n,t.length)},u:function(e,t){const n=e.getFullYear();return q(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return q(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return q(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Tt.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return q(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=j1(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):q(s,t.length)},I:function(e,t,n){const r=w1(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):q(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Tt.d(e,t)},D:function(e,t,n){const r=x1(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):q(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return q(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return q(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return q(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Mn.noon:r===0?s=Mn.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Mn.evening:r>=12?s=Mn.afternoon:r>=4?s=Mn.morning:s=Mn.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Tt.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Tt.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):q(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):q(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Tt.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Tt.s(e,t)},S:function(e,t){return Tt.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return bd(r);case"XXXX":case"XX":return un(r);case"XXXXX":case"XXX":default:return un(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return bd(r);case"xxxx":case"xx":return un(r);case"xxxxx":case"xxx":default:return un(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Sd(r,":");case"OOOO":default:return"GMT"+un(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Sd(r,":");case"zzzz":default:return"GMT"+un(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return q(r,t.length)},T:function(e,t,n){const r=e.getTime();return q(r,t.length)}};function Sd(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+q(i,2)}function bd(e,t){return e%60===0?(e>0?"-":"+")+q(Math.abs(e)/60,2):un(e,t)}function un(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=q(Math.trunc(r/60),2),i=q(r%60,2);return n+s+t+i}const Nd=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Km=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},k1=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Nd(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Nd(r,t)).replace("{{time}}",Km(s,t))},S1={p:Km,P:k1},b1=/^D+$/,N1=/^Y+$/,E1=["D","DD","YY","YYYY"];function C1(e){return b1.test(e)}function P1(e){return N1.test(e)}function T1(e,t,n){const r=O1(e,t,n);if(console.warn(r),E1.includes(e))throw new RangeError(r)}function O1(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const R1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,A1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,L1=/^'([^]*?)'?$/,D1=/''/g,M1=/[a-zA-Z]/;function pt(e,t,n){var d,h,m,y;const r=No(),s=r.locale??v1,i=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((y=(m=r.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,l=ot(e);if(!$w(l))throw new RangeError("Invalid time value");let c=t.match(A1).map(v=>{const w=v[0];if(w==="p"||w==="P"){const j=S1[w];return j(v,s.formatLong)}return v}).join("").match(R1).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const w=v[0];if(w==="'")return{isToken:!1,value:I1(v)};if(kd[w])return{isToken:!0,value:v};if(w.match(M1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const w=v.value;(P1(w)||C1(w))&&T1(w,t,String(e));const j=kd[w[0]];return j(l,w,s.localize,u)}).join("")}function I1(e){const t=e.match(L1);return t?t[1].replace(D1,"'"):e}function Qm(){const e="Admin",t=async()=>{try{await T.auth.signOut(),n("/login")}catch(S){console.error("Error signing out:",S)}},n=X(),[r,s]=k.useState([]),[i,o]=k.useState(!0),[l,c]=k.useState(""),[u,d]=k.useState("interaction_date"),[h,m]=k.useState("desc"),[y,v]=k.useState(""),[w,j]=k.useState("all"),[g,p]=k.useState({start:"",end:""});k.useEffect(()=>{f()},[u,h,y,w,g]);async function f(){try{o(!0);let S=T.from("interactions").select(`
          *,
          customers (name),
          users (name)
        `).order(u,{ascending:h==="asc"});if(y&&(S=S.eq("interaction_type",y)),w!=="all")switch(w){case"approved":S=S.eq("compliance_approved",!0);break;case"flagged":S=S.eq("compliance_flag",!0);break;case"pending":S=S.eq("compliance_approved",!1).eq("compliance_flag",!1);break}g.start&&(S=S.gte("interaction_date",g.start)),g.end&&(S=S.lte("interaction_date",g.end));const{data:P,error:L}=await S;if(L)throw L;if(P){const E=l?P.filter(D=>{var oe;return D.customers.name.toLowerCase().includes(l.toLowerCase())||D.users.name.toLowerCase().includes(l.toLowerCase())||((oe=D.discussion_topics)==null?void 0:oe.toLowerCase().includes(l.toLowerCase()))}):P;s(E)}}catch(S){console.error("Error loading interactions:",S),alert("Error loading interactions")}finally{o(!1)}}async function x(S){if(confirm("Are you sure you want to delete this interaction?"))try{const{error:P}=await T.from("interactions").delete().eq("id",S);if(P)throw P;s(r.filter(L=>L.id!==S))}catch(P){console.error("Error deleting interaction:",P),alert("Error deleting interaction")}}function _(S){u===S?m(h==="asc"?"desc":"asc"):(d(S),m("asc"))}const N=({field:S})=>u!==S?null:h==="asc"?a.jsx(jo,{className:"h-4 w-4"}):a.jsx(_o,{className:"h-4 w-4"});return i?a.jsx("div",{className:"text-center",children:"Loading..."}):a.jsxs(a.Fragment,{children:[a.jsx(We,{userRole:e,handleSignOut:t}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Interactions"}),a.jsx(H,{to:"/interactions/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Add Interaction"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{type:"text",placeholder:"Search interactions...",value:l,onChange:S=>{c(S.target.value),f()},className:"pl-10 pr-4 py-2 w-full border rounded-md focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx(Es,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]}),a.jsxs("select",{value:y,onChange:S=>v(S.target.value),className:"w-full sm:w-48 border rounded-md py-2 px-3 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"All Types"}),a.jsx("option",{value:"In-person",children:"In-person"}),a.jsx("option",{value:"Virtual",children:"Virtual"}),a.jsx("option",{value:"Email",children:"Email"})]}),a.jsxs("select",{value:w,onChange:S=>j(S.target.value),className:"w-full sm:w-48 border rounded-md py-2 px-3 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"flagged",children:"Flagged"}),a.jsx("option",{value:"pending",children:"Pending"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 sm:flex-initial",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),a.jsx("input",{type:"date",value:g.start,onChange:S=>p({...g,start:S.target.value}),className:"w-full border rounded-md py-2 px-3 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{className:"flex-1 sm:flex-initial",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),a.jsx("input",{type:"date",value:g.end,onChange:S=>p({...g,end:S.target.value}),className:"w-full border rounded-md py-2 px-3 focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),a.jsx("div",{className:"border-t border-gray-200 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>_("interaction_date"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Date"}),a.jsx(N,{field:"interaction_date"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>_("interaction_type"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Type"}),a.jsx(N,{field:"interaction_type"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(S=>{var P,L;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:pt(new Date(S.interaction_date),"MMM d, yyyy h:mm a")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(P=S.customers)==null?void 0:P.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(L=S.users)==null?void 0:L.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.interaction_type}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center space-x-2",children:S.compliance_approved?a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Approved"}):S.compliance_flag?a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Flagged"}):a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"Pending"})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(H,{to:`/interactions/${S.id}`,className:"text-indigo-600 hover:text-indigo-900",children:a.jsx(So,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>x(S.id),className:"text-red-600 hover:text-red-900",children:a.jsx(bo,{className:"h-5 w-5"})})]})})]},S.id)})})]})})]})]})}function Hi(){const e="Admin",t=async()=>{try{await T.auth.signOut(),r("/login")}catch(f){console.error("Error signing out:",f)}},{id:n}=Ss(),r=X(),[s,i]=k.useState(!1),[o,l]=k.useState(null),[c,u]=k.useState([]),[d,h]=k.useState([]),[m,y]=k.useState({customer_id:"",user_id:"",interaction_date:pt(new Date,"yyyy-MM-dd'T'HH:mm"),interaction_type:"In-person",discussion_topics:"",follow_up_description:"",follow_up_due_date:"",compliance_approved:!1,compliance_flag:!1});k.useEffect(()=>{Promise.all([v(),w()]),n&&j()},[n]);async function v(){try{const{data:f,error:x}=await T.from("customers").select("id, name").order("name");if(x)throw x;f&&u(f)}catch(f){console.error("Error loading customers:",f),l("Error loading customers. Please try again.")}}async function w(){try{const{data:f,error:x}=await T.from("users").select("id, name").order("name");if(x)throw x;f&&h(f)}catch(f){console.error("Error loading users:",f),l("Error loading users. Please try again.")}}async function j(){try{i(!0);const{data:f,error:x}=await T.from("interactions").select("*").eq("id",n).single();if(x)throw x;if(f){const{id:_,...N}=f;y(N)}}catch(f){console.error("Error loading interaction:",f),l("Error loading interaction. Please try again.")}finally{i(!1)}}async function g(f){if(f.preventDefault(),l(null),!m.customer_id||m.customer_id.trim()===""){l("Please select a customer");return}if(!m.user_id||m.user_id.trim()===""){l("Please select a user");return}try{if(i(!0),!p(m.customer_id)||!p(m.user_id))throw new Error("Invalid customer or user selection");const{error:x}=n?await T.from("interactions").update(m).eq("id",n):await T.from("interactions").insert([m]);if(x)throw x;r("/interactions")}catch(x){console.error("Error saving interaction:",x),l(x instanceof Error?x.message:"Error saving interaction. Please try again.")}finally{i(!1)}}function p(f){return/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(f)}return s?a.jsx("div",{className:"text-center p-4",children:"Loading..."}):a.jsxs(a.Fragment,{children:[a.jsx(We,{userRole:e,handleSignOut:t}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:n?"Edit Interaction":"New Interaction"}),o&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",children:o}),a.jsxs("form",{onSubmit:g,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Customer"}),a.jsxs("select",{required:!0,value:m.customer_id,onChange:f=>y({...m,customer_id:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[a.jsx("option",{value:"",children:"Select a customer"}),c.map(f=>a.jsx("option",{value:f.id,children:f.name},f.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User"}),a.jsxs("select",{required:!0,value:m.user_id,onChange:f=>y({...m,user_id:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[a.jsx("option",{value:"",children:"Select a user"}),d.map(f=>a.jsx("option",{value:f.id,children:f.name},f.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Interaction Date"}),a.jsx("input",{type:"datetime-local",required:!0,value:m.interaction_date,onChange:f=>y({...m,interaction_date:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Interaction Type"}),a.jsxs("select",{required:!0,value:m.interaction_type,onChange:f=>y({...m,interaction_type:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[a.jsx("option",{value:"In-person",children:"In-person"}),a.jsx("option",{value:"Virtual",children:"Virtual"}),a.jsx("option",{value:"Email",children:"Email"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Discussion Topics"}),a.jsx("textarea",{value:m.discussion_topics||"",onChange:f=>y({...m,discussion_topics:f.target.value}),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Follow-up Description"}),a.jsx("textarea",{value:m.follow_up_description||"",onChange:f=>y({...m,follow_up_description:f.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Follow-up Due Date"}),a.jsx("input",{type:"date",value:m.follow_up_due_date||"",onChange:f=>y({...m,follow_up_due_date:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"compliance_approved",checked:m.compliance_approved,onChange:f=>y({...m,compliance_approved:f.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"compliance_approved",className:"ml-2 block text-sm text-gray-700",children:"Compliance Approved"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"compliance_flag",checked:m.compliance_flag,onChange:f=>y({...m,compliance_flag:f.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"compliance_flag",className:"ml-2 block text-sm text-gray-700",children:"Compliance Flag"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>r("/interactions"),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s?"Saving...":"Save"})]})]})]})]})}function Gm(){const e="Admin",t=async()=>{try{await T.auth.signOut(),n("/login")}catch(x){console.error("Error signing out:",x)}},n=X(),[r,s]=k.useState([]),[i,o]=k.useState(!0),[l,c]=k.useState(""),[u,d]=k.useState("due_date"),[h,m]=k.useState("asc"),[y,v]=k.useState("");k.useEffect(()=>{w()},[u,h,y]);async function w(){try{o(!0);let x=T.from("tasks").select(`
          *,
          users_creator:task_created_by(name),
          users_assignee:task_assigned_to(name),
          customers(name)
        `).order(u,{ascending:h==="asc"});y&&(x=x.eq("status",y));const{data:_,error:N}=await x;if(N)throw N;if(_){const S=l?_.filter(P=>P.task_description.toLowerCase().includes(l.toLowerCase())||P.users_creator.name.toLowerCase().includes(l.toLowerCase())||P.users_assignee.name.toLowerCase().includes(l.toLowerCase())||P.customers.name.toLowerCase().includes(l.toLowerCase())):_;s(S)}}catch(x){console.error("Error loading tasks:",x),alert("Error loading tasks")}finally{o(!1)}}async function j(x){if(confirm("Are you sure you want to delete this task?"))try{const{error:_}=await T.from("tasks").delete().eq("id",x);if(_)throw _;s(r.filter(N=>N.id!==x)),alert("Task successfully deleted")}catch(_){console.error("Error deleting task:",_),alert("Error deleting task")}}function g(x){u===x?m(h==="asc"?"desc":"asc"):(d(x),m("asc"))}const p=({field:x})=>u!==x?null:h==="asc"?a.jsx(jo,{className:"h-4 w-4"}):a.jsx(_o,{className:"h-4 w-4"}),f=x=>{switch(x){case"Pending":return"bg-yellow-100 text-yellow-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return i?a.jsx("div",{className:"text-center",children:"Loading..."}):a.jsxs(a.Fragment,{children:[a.jsx(We,{userRole:e,handleSignOut:t}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tasks"}),a.jsx(H,{to:"/tasks/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Add Task"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{type:"text",placeholder:"Search tasks...",value:l,onChange:x=>{c(x.target.value),w()},className:"pl-10 pr-4 py-2 w-full border rounded-md focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx(Es,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]}),a.jsxs("select",{value:y,onChange:x=>v(x.target.value),className:"w-full sm:w-48 border rounded-md py-2 px-3 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"Pending",children:"Pending"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),a.jsx("div",{className:"border-t border-gray-200 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>g("due_date"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ko,{className:"h-4 w-4"}),a.jsx("span",{children:"Due Date"}),a.jsx(p,{field:"due_date"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(wd,{className:"h-4 w-4"}),a.jsx("span",{children:"Assigned To"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(wd,{className:"h-4 w-4"}),a.jsx("span",{children:"Requested By"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(x=>{var _;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:pt(new Date(x.due_date),"MMM d, yyyy")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(_=x.users_assignee)==null?void 0:_.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.task_requested_by}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:a.jsx("div",{className:"line-clamp-2",children:x.task_description})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${f(x.status)}`,children:x.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(H,{to:`/tasks/${x.id}`,className:"text-indigo-600 hover:text-indigo-900",children:a.jsx(So,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>j(x.id),className:"text-red-600 hover:text-red-900",children:a.jsx(bo,{className:"h-5 w-5"})})]})})]},x.id)})})]})})]})]})}function Vi(){const e="Admin",t=async()=>{try{await T.auth.signOut(),s("/login")}catch(E){console.error("Error signing out:",E)}},{id:n}=Ss(),{user:r}=wo(),s=X(),[i,o]=k.useState(!1),[l,c]=k.useState(null),[u,d]=k.useState([]),[h,m]=k.useState([]),[y,v]=k.useState([]),[w,j]=k.useState(!1),[g,p]=k.useState(!1),[f,x]=k.useState({task_created_by:(r==null?void 0:r.id)||"",task_requested_by:"",task_requested_by_other:"",task_assigned_to:"",customer_id:"",task_description:"",due_date:"",status:"Pending",is_interaction_related:!1,interaction_id:""});k.useEffect(()=>{Promise.all([N(),S()]),n&&_()},[n]),k.useEffect(()=>{f.is_interaction_related&&f.customer_id&&P(f.customer_id)},[f.is_interaction_related,f.customer_id]);async function _(){try{o(!0);const{data:E,error:D}=await T.from("tasks").select("*").eq("id",n).single();if(D)throw D;E&&(x({...E,is_interaction_related:!!E.interaction_id}),j(E.task_requested_by==="Other"),p(!!E.interaction_id))}catch(E){console.error("Error loading task:",E),c("Error loading task")}finally{o(!1)}}async function N(){try{const{data:E,error:D}=await T.from("users").select("*").eq("role","MSL").order("name");if(D)throw D;E&&d(E)}catch(E){console.error("Error loading MSL users:",E),c("Error loading MSL users")}}async function S(){try{const{data:E,error:D}=await T.from("customers").select("*").order("name");if(D)throw D;E&&m(E)}catch(E){console.error("Error loading customers:",E),c("Error loading customers")}}async function P(E){try{const{data:D,error:oe}=await T.from("interactions").select("*").eq("customer_id",E).order("interaction_date",{ascending:!1});if(oe)throw oe;D&&v(D)}catch(D){console.error("Error loading interactions:",D),c("Error loading interactions")}}async function L(E){E.preventDefault(),c(null);try{o(!0);const D={task_created_by:f.task_created_by,task_requested_by:f.task_requested_by==="Other"?f.task_requested_by_other:f.task_requested_by,task_assigned_to:f.task_assigned_to,customer_id:f.customer_id,task_description:f.task_description,due_date:f.due_date,status:f.status,interaction_id:f.is_interaction_related?f.interaction_id:null};if(n){const{error:oe}=await T.from("tasks").update(D).eq("id",n);if(oe)throw oe;alert("Task successfully updated")}else{const{error:oe}=await T.from("tasks").insert([D]);if(oe)throw oe;alert("Task successfully created")}s("/tasks")}catch(D){console.error("Error saving task:",D),c(D instanceof Error?D.message:"Error saving task")}finally{o(!1)}}return a.jsxs(a.Fragment,{children:[a.jsx(We,{userRole:e,handleSignOut:t}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:n?"Edit Task":"Add Task"}),l&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",children:l}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Task Requested By"}),a.jsxs("select",{required:!0,value:f.task_requested_by,onChange:E=>{x({...f,task_requested_by:E.target.value}),j(E.target.value==="Other")},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[a.jsx("option",{value:"",children:"Select requestor"}),a.jsx("option",{value:"MSL Manager",children:"MSL Manager"}),a.jsx("option",{value:"System Manager",children:"System Manager"}),a.jsx("option",{value:"GMA",children:"GMA"}),a.jsx("option",{value:"Care Team",children:"Care Team"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),w&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Specify Other"}),a.jsx("input",{type:"text",required:!0,value:f.task_requested_by_other||"",onChange:E=>x({...f,task_requested_by_other:E.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Task Assigned To"}),a.jsxs("select",{required:!0,value:f.task_assigned_to||"",onChange:E=>x({...f,task_assigned_to:E.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[a.jsx("option",{value:"",children:"Select MSL"}),u.map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Customer Account"}),a.jsxs("select",{required:!0,value:f.customer_id||"",onChange:E=>x({...f,customer_id:E.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[a.jsx("option",{value:"",children:"Select customer"}),h.map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Task Description"}),a.jsx("textarea",{required:!0,value:f.task_description||"",onChange:E=>x({...f,task_description:E.target.value}),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Due Date"}),a.jsx("input",{type:"date",required:!0,value:f.due_date||"",onChange:E=>x({...f,due_date:E.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),n&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsxs("select",{required:!0,value:f.status||"Pending",onChange:E=>x({...f,status:E.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[a.jsx("option",{value:"Pending",children:"Pending"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"is_interaction_related",checked:f.is_interaction_related,onChange:E=>{x({...f,is_interaction_related:E.target.checked}),p(E.target.checked)},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"is_interaction_related",className:"ml-2 block text-sm text-gray-700",children:"Is this task associated with an interaction?"})]}),g&&f.customer_id&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Interaction"}),a.jsxs("select",{required:!0,value:f.interaction_id||"",onChange:E=>x({...f,interaction_id:E.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[a.jsx("option",{value:"",children:"Select interaction"}),y.map(E=>a.jsxs("option",{value:E.id,children:[new Date(E.interaction_date).toLocaleDateString()," - ",E.interaction_type]},E.id))]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>s("/tasks"),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:i?"Saving...":n?"Update Task":"Create Task"})]})]})]})]})}function Ym(){const e="Admin",t=async()=>{try{await T.auth.signOut(),n("/login")}catch(d){console.error("Error signing out:",d)}},n=X(),[r,s]=k.useState([]),[i,o]=k.useState(!0),[l,c]=k.useState("");k.useEffect(()=>{u()},[]);async function u(){try{o(!0);const{data:d,error:h}=await T.from("previsit_reports").select(`
          *,
          interactions (
            interaction_date,
            interaction_type,
            discussion_topics
          ),
          users (name),
          customers (name)
        `).order("created_at",{ascending:!1});if(h)throw h;const m=(d==null?void 0:d.filter(y=>{var v,w;return((v=y.customers)==null?void 0:v.name.toLowerCase().includes(l.toLowerCase()))||((w=y.users)==null?void 0:w.name.toLowerCase().includes(l.toLowerCase()))}))||[];s(m)}catch(d){console.error("Error loading reports:",d),alert("Error loading reports")}finally{o(!1)}}return i?a.jsx("div",{className:"text-center",children:"Loading..."}):a.jsxs(a.Fragment,{children:[a.jsx(We,{userRole:e,handleSignOut:t}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-4 py-5 sm:px-6 space-y-4",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pre-visit Reports"})}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search reports...",value:l,onChange:d=>{c(d.target.value),u()},className:"pl-10 pr-4 py-2 w-full border rounded-md focus:ring-indigo-500 focus:border-indigo-500"}),a.jsx(Es,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]})]}),a.jsx("div",{className:"border-t border-gray-200",children:a.jsx("div",{className:"divide-y divide-gray-200",children:r.map(d=>{var h,m,y;return a.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:(h=d.customers)==null?void 0:h.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["MSL: ",(m=d.users)==null?void 0:m.name]})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[a.jsx($m,{className:"h-4 w-4"}),a.jsx("span",{children:pt(new Date(((y=d.interactions)==null?void 0:y.interaction_date)||""),"MMM d, yyyy")})]})]}),a.jsx("div",{className:"mt-2",children:a.jsxs(H,{to:`/previsit/${d.id}`,className:"inline-flex items-center text-sm text-indigo-600 hover:text-indigo-900",children:["View Report",a.jsx("span",{className:"ml-2",children:"→"})]})})]},d.id)})})})]})]})}function Xm(){var d,h,m,y;const e="Admin",t=async()=>{try{await T.auth.signOut(),n("/login")}catch(v){console.error("Error signing out:",v)}},n=X(),[r,s]=k.useState(null),[i,o]=k.useState(!0),[l,c]=k.useState(null);k.useEffect(()=>{u()},[]);async function u(){try{o(!0);const{data:v,error:w}=await T.from("previsit_reports").select(`
          *,
          interactions (
            interaction_date,
            interaction_type,
            discussion_topics
          ),
          users (name),
          customers (name)
        `).order("created_at",{ascending:!1}).limit(1);if(w)throw w;!v||v.length===0?s(null):s(v[0])}catch(v){console.error("Error loading report:",v),c("Error loading report. Please try again.")}finally{o(!1)}}return i?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):l?a.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-2",children:"Error"}),a.jsx("p",{className:"text-gray-600 mb-4",children:l})]})}):r?a.jsxs(a.Fragment,{children:[a.jsx(We,{userRole:e,handleSignOut:t}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pre-visit Report"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsx("table",{className:"min-w-full divide-y divide-gray-200",children:a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 w-1/3 bg-gray-50",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Visit Details"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Imported from interaction page"})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"space-y-2 text-sm text-gray-900",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"MSL Name:"})," ",(d=r.users)==null?void 0:d.name]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Customer Name:"})," ",(h=r.customers)==null?void 0:h.name]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Date & Time:"})," ",(m=r.interactions)!=null&&m.interaction_date?pt(new Date(r.interactions.interaction_date),"PPpp"):"Not scheduled"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Type:"})," ",((y=r.interactions)==null?void 0:y.interaction_type)||"Not specified"]})]})})]}),a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 w-1/3 bg-gray-50",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Previous Interactions Summary"}),a.jsx("div",{className:"text-xs text-gray-500",children:"LLM derived summary of last 3 interactions"})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-line",children:r.previous_interactions_summary||"No previous interactions recorded"})})]}),a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 w-1/3 bg-gray-50",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Recent Profile Changes"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Web search summarized for last 3 months"})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-line",children:r.profile_changes_summary||"No recent profile changes"})})]}),a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 w-1/3 bg-gray-50",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Suggested Discussion Topics"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Auto-populated"})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-line",children:r.suggested_topics||"No suggested topics available"})})]}),a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 w-1/3 bg-gray-50",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Pre-Visit Action Items"}),a.jsx("div",{className:"text-xs text-gray-500",children:"From last visit"})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Task"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Status"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500",children:"Solution"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[a.jsxs("tr",{children:[a.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:"Review latest clinical data"}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Completed"})}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:"Clinical data review completed and summary prepared"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:"Prepare presentation slides"}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"In Progress"})}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:"Draft slides under review"})]})]})]})})]})]})})})]})]}):a.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Reports Available"}),a.jsx("p",{className:"text-gray-600",children:"There are no pre-visit reports available at this time."})]})})}function Zm(){const e="Admin",t=X(),[n,r]=k.useState([]),[s,i]=k.useState([]),[o,l]=k.useState(!0),[c,u]=k.useState(!1),[d,h]=k.useState(null),m=async()=>{try{await T.auth.signOut(),t("/login")}catch(p){console.error("Error signing out:",p)}};k.useEffect(()=>{y()},[]);const y=async()=>{try{l(!0);const{data:p,error:f}=await T.storage.from("datasources").list();if(f)throw f;const x=await Promise.all(p.map(async _=>{const{data:{publicUrl:N}}=T.storage.from("datasources").getPublicUrl(_.name);return{id:_.id||_.name,name:_.name,url:N,uploadedAt:new Date(_.created_at||Date.now())}}));r(x)}catch(p){console.error("Error loading files:",p),h("Error loading files. Please try again.")}finally{l(!1)}},v=async p=>{var f;try{const x=(f=p.target.files)==null?void 0:f[0];if(!x)return;u(!0);const _=x.name.split(".").pop(),N=`${Math.random()}.${_}`,{error:S}=await T.storage.from("datasources").upload(N,x);if(S)throw S;await y()}catch(x){console.error("Error uploading file:",x),h("Error uploading file. Please try again.")}finally{u(!1)}},w=p=>{i(f=>f.find(x=>x.id===p.id)?f.filter(x=>x.id!==p.id):[...f,p])},j=async p=>{if(confirm("Are you sure you want to delete this file?"))try{const{error:f}=await T.storage.from("datasources").remove([p]);if(f)throw f;await y()}catch(f){console.error("Error deleting file:",f),h("Error deleting file. Please try again.")}},g=()=>{if(s.length===0){alert("Please select at least one file.");return}t("/chat",{state:{selectedFiles:s}})};return a.jsxs(a.Fragment,{children:[a.jsx(We,{userRole:e,handleSignOut:m}),a.jsx("div",{className:"bg-white shadow rounded-lg",children:a.jsxs("div",{className:"px-4 py-5 sm:px-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Data Sources"}),a.jsxs("label",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 cursor-pointer",children:[a.jsx(Pw,{className:"h-4 w-4 mr-2"}),"Upload File",a.jsx("input",{type:"file",className:"hidden",onChange:v,disabled:c})]})]}),d&&a.jsx("div",{className:"text-red-500",children:d}),c&&a.jsx("div",{className:"text-blue-500",children:"Uploading..."}),a.jsxs("div",{className:"space-y-4",children:[n.map(p=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",onChange:()=>w(p),checked:s.some(f=>f.id===p.id)}),a.jsx(Rc,{className:"h-6 w-6 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded on ",p.uploadedAt.toLocaleDateString()]})]})]}),a.jsx("div",{children:a.jsx("button",{onClick:()=>j(p.name),className:"text-red-600 hover:text-red-900",children:a.jsx(Ow,{className:"h-5 w-5"})})})]},p.id)),n.length===0&&!d&&a.jsx("div",{className:"text-center py-6 text-gray-500",children:"No files uploaded yet"})]}),a.jsx("button",{onClick:g,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Learn More"})]})})]})}function ep(){const e="Admin",t=X(),n=async()=>{try{await T.auth.signOut(),t("/login")}catch(r){console.error("Error signing out:",r)}};return a.jsxs(a.Fragment,{children:[a.jsx(We,{userRole:e,handleSignOut:n}),a.jsx("div",{className:"bg-white shadow rounded-lg"})]})}const pe=[];for(let e=0;e<256;++e)pe.push((e+256).toString(16).slice(1));function $1(e,t=0){return(pe[e[t+0]]+pe[e[t+1]]+pe[e[t+2]]+pe[e[t+3]]+"-"+pe[e[t+4]]+pe[e[t+5]]+"-"+pe[e[t+6]]+pe[e[t+7]]+"-"+pe[e[t+8]]+pe[e[t+9]]+"-"+pe[e[t+10]]+pe[e[t+11]]+pe[e[t+12]]+pe[e[t+13]]+pe[e[t+14]]+pe[e[t+15]]).toLowerCase()}let ma;const U1=new Uint8Array(16);function F1(){if(!ma){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ma=crypto.getRandomValues.bind(crypto)}return ma(U1)}const z1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ed={randomUUID:z1};function hn(e,t,n){var s;if(Ed.randomUUID&&!t&&!e)return Ed.randomUUID();e=e||{};const r=e.random??((s=e.rng)==null?void 0:s.call(e))??F1();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,$1(r)}function tp({onSelectConversation:e,activeConversationId:t}){const[n,r]=k.useState([]),[s,i]=k.useState(!0),o=async()=>{i(!0);const{data:l,error:c}=await T.from("chat_history").select("conversation_id, content, timestamp, role").order("timestamp",{ascending:!0});if(c){console.error("Error loading chat history:",c),i(!1);return}const u=l.reduce((h,m)=>(h[m.conversation_id]||(h[m.conversation_id]=[]),h[m.conversation_id].push(m),h),{}),d=Object.entries(u).map(([h,m])=>{const y=m.find(w=>w.role==="user"),v=m[m.length-1];return{id:h,customerName:(y==null?void 0:y.content)||`Conversation ${h.slice(0,4)}`,lastMessage:v.content,timestamp:new Date(v.timestamp),unread:!1}});r(d),i(!1)};return k.useEffect(()=>{o();const l=T.channel("chat_history_changes").on("postgres_changes",{event:"*",schema:"public",table:"chat_history"},()=>{o()}).subscribe();return()=>{l.unsubscribe()}},[]),a.jsxs("div",{className:"h-full",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Chat History"})}),a.jsx("div",{className:"divide-y divide-gray-200",children:s?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading..."}):n.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No conversations found."}):n.map(l=>a.jsxs("div",{onClick:()=>e(l.id),className:`p-4 hover:bg-gray-50 cursor-pointer ${t===l.id?"bg-indigo-50":""}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsx("h3",{className:"font-medium text-gray-900 line-clamp-1",children:l.customerName}),a.jsx("span",{className:"text-xs text-gray-500 ml-2 flex-shrink-0",children:pt(l.timestamp,"MMM d, h:mm a")})]}),a.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:l.lastMessage})]},l.id))})]})}function np({conversationId:e,onNewConversation:t}){const[n,r]=k.useState(""),[s,i]=k.useState([]),[o,l]=k.useState(!1),[c,u]=k.useState(null),{user:d}=wo(),h=async p=>{l(!0);const f="AIzaSyAspdTpDwuj5s93jEOnalVm0I7RzeujAqw";try{const x=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${f}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:p}]}],safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}})});if(!x.ok)throw new Error(`API error: ${x.status}`);return(await x.json()).candidates[0].content.parts[0].text}catch(x){return console.error("Error fetching Gemini AI response:",x),"Sorry, I am unable to process your request right now."}finally{l(!1)}},m=p=>p.split(/\n\s*|\.\s*\n/).map(f=>f.replace(/(\\|\*)/g,"").trim()).filter(f=>f).map(f=>`- ${f}`).join(`

`);k.useEffect(()=>{e&&(u(e),y(e))},[e]);const y=async p=>{const{data:f,error:x}=await T.from("chat_history").select("*").eq("conversation_id",p).order("timestamp",{ascending:!0});if(x){console.error("Error loading chat history:",x);return}const _=f.map(N=>({id:N.id,content:N.content,sender:N.role==="user"?"user":"gemini",timestamp:new Date(N.timestamp)}));i(_)},v=async()=>{const p=hn();return u(p),p},w=async p=>{const f={},x=p.match(/send (.*?) details of study X/i);x?(f.task_description=`Send ${x[1]} details of study X`,f.task_requested_by=x[1].trim()):(f.task_description=p,f.task_requested_by="User");const _=new Date,N=new Date(_);return N.setDate(_.getDate()+7),f.due_date=N.toISOString().split("T")[0],f.task_assigned_to=(d==null?void 0:d.id)||"",f.task_created_by=(d==null?void 0:d.id)||"",f.status="Pending",f},j=async p=>{try{console.log("Creating task with details:",p);const{data:f,error:x}=await T.from("tasks").insert([p]).select();if(x)throw x;return console.log("Task created successfully:",f),f}catch(f){throw console.error("Error creating task:",f),f}},g=async()=>{if(!n.trim())return;const p=c||await v(),f={id:hn(),content:n,sender:"user",timestamp:new Date};i(x=>[...x,f]);try{const{error:x}=await T.from("chat_history").insert([{conversation_id:p,role:"user",content:n,timestamp:new Date}]);if(x)throw x;if(n.toLowerCase().includes("create task")||n.toLowerCase().includes("make a task")||n.toLowerCase().includes("new task")){const N=await w(n),S=await j(N);console.log("Task created successfully:",S);const P={id:hn(),content:"Task created successfully",sender:"gemini",timestamp:new Date};i(L=>[...L,P]),await T.from("chat_history").insert([{conversation_id:p,role:"assistant",content:"Task created successfully",timestamp:new Date}])}else{const N=await h(n),S=m(N),P={id:hn(),content:S,sender:"gemini",timestamp:new Date};i(L=>[...L,P]),await T.from("chat_history").insert([{conversation_id:p,role:"assistant",content:S,timestamp:new Date}])}}catch(x){console.error("Error in handleSend:",x);const _={id:hn(),content:"Failed to create task. Please try again.",sender:"gemini",timestamp:new Date};i(N=>[...N,_]),await T.from("chat_history").insert([{conversation_id:p,role:"assistant",content:"Failed to create task. Please try again.",timestamp:new Date}])}finally{r("")}};return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:a.jsxs("div",{className:"space-y-4",children:[s.map(p=>a.jsx("div",{className:`flex ${p.sender==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${p.sender==="user"?"bg-indigo-600 text-white":"bg-white text-gray-900"}`,style:{textAlign:"justify"},children:[a.jsx("pre",{className:"whitespace-pre-wrap",children:p.content}),a.jsx("span",{className:"text-xs opacity-75 mt-1 block",children:p.timestamp.toLocaleTimeString()})]})},p.id)),o&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"max-w-[70%] rounded-lg px-4 py-2 bg-white text-gray-500",children:"Typing..."})})]})}),a.jsx("div",{className:"border-t border-gray-200 p-4 bg-white",children:a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:a.jsx(Nw,{className:"h-5 w-5"})}),a.jsx("input",{type:"text",value:n,onChange:p=>r(p.target.value),placeholder:"Type your message...",className:"flex-1 focus:outline-none",onKeyDown:p=>p.key==="Enter"&&g()}),a.jsx("button",{onClick:g,className:"text-indigo-600 hover:text-indigo-700",disabled:!n.trim()||o,children:a.jsx(Ew,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"text-indigo-600 hover:text-indigo-700 px-4 py-2",children:"Start New Conversation"})]})})]})}function B1(){const e=[{id:"1",kolName:"Dr. Sarah Johnson",date:new Date(Date.now()+1728e5),location:"Memorial Hospital"},{id:"2",kolName:"Dr. Michael Chen",date:new Date(Date.now()+432e6),location:"Research Center"}];return a.jsx("div",{className:"divide-y divide-gray-200",children:e.map(t=>a.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:t.kolName}),a.jsx("span",{className:"text-sm text-gray-500",children:pt(t.date,"MMM d, h:mm a")})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Fm,{className:"h-4 w-4 mr-1"}),t.location]})]},t.id))})}function q1(){const e=[{id:"1",title:"Prepare presentation for Dr. Johnson",dueDate:new Date(Date.now()+864e5),type:"pre-visit",completed:!1},{id:"2",title:"Submit visit report for Dr. Chen",dueDate:new Date(Date.now()+1728e5),type:"post-visit",completed:!1}];return a.jsx("div",{className:"divide-y divide-gray-200",children:e.map(t=>a.jsx("div",{className:"p-4 hover:bg-gray-50",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Um,{className:`h-5 w-5 ${t.completed?"text-green-500":"text-gray-400"}`})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.title}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t.type==="pre-visit"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:t.type==="pre-visit"?"Pre-visit":"Post-visit"})]}),a.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:[a.jsx(ko,{className:"h-4 w-4 mr-1"}),"Due ",pt(t.dueDate,"MMM d")]})]})]})},t.id))})}function W1(){const e=[{id:"1",kolName:"Dr. Sarah Johnson",type:"In-person",date:new Date(Date.now()-864e5),summary:"Discussed clinical trial results and future collaboration opportunities"},{id:"2",kolName:"Dr. Michael Chen",type:"Virtual",date:new Date(Date.now()-1728e5),summary:"Quarterly review meeting and research updates"}];return a.jsx("div",{className:"divide-y divide-gray-200",children:e.map(t=>a.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Cs,{className:"h-5 w-5 text-gray-400 mr-2"}),a.jsx("h3",{className:"font-medium text-gray-900",children:t.kolName})]}),a.jsx("span",{className:"text-sm text-gray-500",children:pt(t.date,"MMM d")})]}),a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${t.type==="In-person"?"bg-green-100 text-green-800":t.type==="Virtual"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:t.type})}),a.jsx("p",{className:"mt-1 text-sm text-gray-600 line-clamp-2",children:t.summary})]},t.id))})}function H1(){const e=[{id:"1",type:"compliance",title:"Compliance Review Required",description:"Recent interaction with Dr. Johnson needs compliance review",date:new Date(Date.now()-36e5)},{id:"2",type:"overdue",title:"Overdue Task",description:"Visit report for Dr. Chen is past due",date:new Date(Date.now()-864e5)}],t=r=>{switch(r){case"compliance":return a.jsx(Sw,{className:"h-5 w-5 text-red-400"});case"overdue":return a.jsx(ko,{className:"h-5 w-5 text-orange-400"});case"alert":return a.jsx(Dm,{className:"h-5 w-5 text-yellow-400"})}},n=r=>{switch(r){case"compliance":return"bg-red-50";case"overdue":return"bg-orange-50";case"alert":return"bg-yellow-50";default:return"bg-gray-50"}};return a.jsx("div",{className:"divide-y divide-gray-200",children:e.map(r=>a.jsx("div",{className:`p-4 hover:bg-gray-50 ${n(r.type)}`,children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:t(r.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.title}),a.jsx("span",{className:"text-xs text-gray-500",children:pt(r.date,"h:mm a")})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:r.description})]})]})},r.id))})}function rp(){const e="Admin",t=async()=>{try{await T.auth.signOut(),n("/login")}catch(l){console.error("Error signing out:",l)}},n=X(),[r,s]=k.useState(null),i=()=>{const l=hn();s(l)},o=l=>{s(l)};return a.jsxs(a.Fragment,{children:[a.jsx(We,{userRole:e,handleSignOut:t}),a.jsxs("div",{className:"h-[calc(100vh-4rem)] flex",children:[a.jsx("div",{className:"w-64 bg-white border-r border-gray-200 overflow-y-auto",children:a.jsx(tp,{onSelectConversation:o,activeConversationId:r})}),a.jsx("div",{className:"flex-1 flex flex-col bg-gray-50",children:a.jsx(np,{conversationId:r,onNewConversation:i})}),a.jsx("div",{className:"w-80 bg-white border-l border-gray-200 overflow-y-auto",children:a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{className:"flex-1 flex items-center justify-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:[a.jsx(zm,{className:"h-4 w-4 mr-2"}),"Add Interaction"]}),a.jsxs("button",{className:"flex-1 flex items-center justify-center px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:[a.jsx(Rc,{className:"h-4 w-4 mr-2"}),"Generate Report"]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("h2",{className:"text-lg font-semibold flex items-center text-gray-900",children:[a.jsx($m,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Upcoming Visits"]})}),a.jsx(B1,{})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("h2",{className:"text-lg font-semibold flex items-center text-gray-900",children:[a.jsx(_l,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Pending Actions"]})}),a.jsx(q1,{})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("h2",{className:"text-lg font-semibold flex items-center text-gray-900",children:[a.jsx(_l,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Recent Interactions"]})}),a.jsx(W1,{})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("h2",{className:"text-lg font-semibold flex items-center text-gray-900",children:[a.jsx(Mm,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Notifications"]})}),a.jsx(H1,{})]})]})})]})]})}function V1(){const e=[{id:"1",name:"Dr. Emily Carter",role:"Senior MSL",territory:"Northeast",activeKols:15,lastInteraction:new Date(Date.now()-864e5)},{id:"2",name:"Dr. James Wilson",role:"MSL",territory:"West Coast",activeKols:12,lastInteraction:new Date(Date.now()-1728e5)}];return a.jsx("div",{className:"divide-y divide-gray-200",children:e.map(t=>a.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:t.name}),a.jsx("p",{className:"text-sm text-gray-500",children:t.role})]}),a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Fm,{className:"h-4 w-4 mr-1"}),t.territory]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Cs,{className:"h-4 w-4 mr-1"}),t.activeKols," KOLs"]})]})]},t.id))})}function J1(){const e=[{region:"Northeast",specialty:"Oncology",interactionCount:25},{region:"West",specialty:"Cardiology",interactionCount:18},{region:"Southeast",specialty:"Neurology",interactionCount:15}],t=n=>n>=20?"bg-indigo-600 text-white":n>=10?"bg-indigo-400 text-white":"bg-indigo-200 text-gray-900";return a.jsx("div",{className:"p-4",children:a.jsx("div",{className:"space-y-4",children:e.map((n,r)=>a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"w-32",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.region}),a.jsx("p",{className:"text-xs text-gray-500",children:n.specialty})]}),a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:`h-8 rounded-lg ${t(n.interactionCount)} flex items-center px-3`,children:a.jsxs("span",{className:"text-sm font-medium",children:[n.interactionCount," interactions"]})})})]},r))})})}function K1(){const e=[{id:"1",mslName:"Dr. Emily Carter",kolName:"Dr. Sarah Johnson",type:"warning",description:"Interaction frequency exceeds recommended limit",date:new Date},{id:"2",mslName:"Dr. James Wilson",kolName:"Dr. Michael Chen",type:"resolved",description:"Documentation completed within required timeframe",date:new Date(Date.now()-864e5)}],t=r=>{switch(r){case"warning":return a.jsx(Dm,{className:"h-5 w-5 text-yellow-400"});case"violation":return a.jsx(Tw,{className:"h-5 w-5 text-red-400"});case"resolved":return a.jsx(Um,{className:"h-5 w-5 text-green-400"})}},n=r=>{switch(r){case"warning":return"bg-yellow-50";case"violation":return"bg-red-50";case"resolved":return"bg-green-50"}};return a.jsx("div",{className:"divide-y divide-gray-200",children:e.map(r=>a.jsx("div",{className:`p-4 ${n(r.type)}`,children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:t(r.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[r.mslName," → ",r.kolName]}),a.jsx("span",{className:"text-xs text-gray-500",children:r.date.toLocaleDateString()})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:r.description})]})]})},r.id))})}function Q1(){const e=[{id:"1",mslName:"Dr. Emily Carter",interactionCount:45,followUpsCompleted:38,avgResponseTime:"24h",kolSatisfaction:95},{id:"2",mslName:"Dr. James Wilson",interactionCount:38,followUpsCompleted:35,avgResponseTime:"36h",kolSatisfaction:92}];return a.jsx("div",{className:"divide-y divide-gray-200",children:e.map(t=>a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:t.mslName}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Cs,{className:"h-5 w-5 text-indigo-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.interactionCount}),a.jsx("p",{className:"text-xs text-gray-500",children:"Interactions"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(kw,{className:"h-5 w-5 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.followUpsCompleted}),a.jsx("p",{className:"text-xs text-gray-500",children:"Follow-ups"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ko,{className:"h-5 w-5 text-orange-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.avgResponseTime}),a.jsx("p",{className:"text-xs text-gray-500",children:"Avg Response"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Cw,{className:"h-5 w-5 text-blue-500"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[t.kolSatisfaction,"%"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Satisfaction"})]})]})]})]},t.id))})}function sp(){const e="Admin",t=async()=>{try{await T.auth.signOut(),o("/login")}catch(l){console.error("Error signing out:",l)}},[n,r]=k.useState(null),s=()=>{const l=hn();r(l)},i=l=>{r(l)},o=X();return a.jsxs(a.Fragment,{children:[a.jsx(We,{userRole:e,handleSignOut:t}),a.jsxs("div",{className:"h-[calc(100vh-4rem)] flex",children:[a.jsx("div",{className:"w-64 bg-white border-r border-gray-200 overflow-y-auto",children:a.jsx(tp,{onSelectConversation:i,activeConversationId:n})}),a.jsx("div",{className:"flex-1 flex flex-col bg-gray-50",children:a.jsx(np,{conversationId:n,onNewConversation:s})}),a.jsx("div",{className:"w-96 bg-white border-l border-gray-200 overflow-y-auto",children:a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{className:"flex-1 flex items-center justify-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:[a.jsx(zm,{className:"h-4 w-4 mr-2"}),"New Report"]}),a.jsxs("button",{className:"flex-1 flex items-center justify-center px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:[a.jsx(Rc,{className:"h-4 w-4 mr-2"}),"Export Data"]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("h2",{className:"text-lg font-semibold flex items-center text-gray-900",children:[a.jsx(Cs,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Team Overview"]})}),a.jsx(V1,{})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("h2",{className:"text-lg font-semibold flex items-center text-gray-900",children:[a.jsx(jw,{className:"h-5 w-5 mr-2 text-indigo-600"}),"KOL Engagement"]})}),a.jsx(J1,{})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("h2",{className:"text-lg font-semibold flex items-center text-gray-900",children:[a.jsx(Mm,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Compliance Alerts"]})}),a.jsx(K1,{})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("h2",{className:"text-lg font-semibold flex items-center text-gray-900",children:[a.jsx(_l,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Performance Metrics"]})}),a.jsx(Q1,{})]})]})})]})]})}function ip(){const e=gr(),{selectedFiles:t}=e.state||{},[n,r]=k.useState(""),[s,i]=k.useState(""),[o,l]=k.useState(!1),c=async()=>{if(!n.trim()){alert("Please enter a question.");return}l(!0),i("");try{const d=await(await fetch("http://127.0.0.1:5000/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:n,pdf_paths:t.map(h=>h.url)})})).json();d.answer?i(d.answer):i("Error: "+(d.error||"Failed to fetch the answer."))}catch(u){console.error("Error fetching answer:",u),i("Error: Unable to fetch data from the server.")}finally{l(!1)}};return a.jsxs("div",{className:"container mx-auto px-4 py-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Chat with RAG Model"}),a.jsxs("p",{className:"mb-4 text-gray-600",children:["Selected Documents: ",t.map(u=>u.name).join(", ")]}),a.jsx("textarea",{value:n,onChange:u=>r(u.target.value),placeholder:"Ask a question about the documents...",className:"w-full px-4 py-2 border rounded-md mb-4",rows:4}),a.jsx("button",{onClick:c,disabled:o,className:`px-4 py-2 rounded-md text-white ${o?"bg-gray-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,children:o?"Fetching answer...":"Ask Question"}),s&&a.jsxs("div",{className:"mt-6 p-4 bg-gray-100 rounded-md",children:[a.jsx("h3",{className:"font-bold text-gray-700",children:"Answer:"}),a.jsx("p",{className:"text-gray-800",children:s})]})]})}const op=({})=>{const e=X();return a.jsx("nav",{className:"bg-indigo-600 text-white p-4",children:a.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Admin Panel"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx(H,{to:"/users",className:"hover:bg-indigo-700 px-3 py-2 rounded-md text-sm font-medium",children:"Manage Users"}),a.jsx("button",{onClick:()=>e("/adminlogin"),className:"hover:bg-red-700 bg-red-600 px-3 py-2 rounded-md text-sm font-medium",children:"Sign Out"})]})]})})};function ap(e,t){return function(){return e.apply(t,arguments)}}const{toString:G1}=Object.prototype,{getPrototypeOf:Dc}=Object,Eo=(e=>t=>{const n=G1.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),at=e=>(e=e.toLowerCase(),t=>Eo(t)===e),Co=e=>t=>typeof t===e,{isArray:xr}=Array,vs=Co("undefined");function Y1(e){return e!==null&&!vs(e)&&e.constructor!==null&&!vs(e.constructor)&&Fe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const lp=at("ArrayBuffer");function X1(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&lp(e.buffer),t}const Z1=Co("string"),Fe=Co("function"),cp=Co("number"),Po=e=>e!==null&&typeof e=="object",e_=e=>e===!0||e===!1,hi=e=>{if(Eo(e)!=="object")return!1;const t=Dc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},t_=at("Date"),n_=at("File"),r_=at("Blob"),s_=at("FileList"),i_=e=>Po(e)&&Fe(e.pipe),o_=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Fe(e.append)&&((t=Eo(e))==="formdata"||t==="object"&&Fe(e.toString)&&e.toString()==="[object FormData]"))},a_=at("URLSearchParams"),[l_,c_,u_,d_]=["ReadableStream","Request","Response","Headers"].map(at),h_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ps(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),xr(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function up(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const yn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dp=e=>!vs(e)&&e!==yn;function jl(){const{caseless:e}=dp(this)&&this||{},t={},n=(r,s)=>{const i=e&&up(t,s)||s;hi(t[i])&&hi(r)?t[i]=jl(t[i],r):hi(r)?t[i]=jl({},r):xr(r)?t[i]=r.slice():t[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ps(arguments[r],n);return t}const f_=(e,t,n,{allOwnKeys:r}={})=>(Ps(t,(s,i)=>{n&&Fe(s)?e[i]=ap(s,n):e[i]=s},{allOwnKeys:r}),e),m_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),p_=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},g_=(e,t,n,r)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&Dc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},y_=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},v_=e=>{if(!e)return null;if(xr(e))return e;let t=e.length;if(!cp(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},x_=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Dc(Uint8Array)),w_=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},__=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},j_=at("HTMLFormElement"),k_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Cd=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),S_=at("RegExp"),hp=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ps(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},b_=e=>{hp(e,(t,n)=>{if(Fe(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Fe(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},N_=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return xr(e)?r(e):r(String(e).split(t)),n},E_=()=>{},C_=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,pa="abcdefghijklmnopqrstuvwxyz",Pd="0123456789",fp={DIGIT:Pd,ALPHA:pa,ALPHA_DIGIT:pa+pa.toUpperCase()+Pd},P_=(e=16,t=fp.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function T_(e){return!!(e&&Fe(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const O_=e=>{const t=new Array(10),n=(r,s)=>{if(Po(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const i=xr(r)?[]:{};return Ps(r,(o,l)=>{const c=n(o,s+1);!vs(c)&&(i[l]=c)}),t[s]=void 0,i}}return r};return n(e,0)},R_=at("AsyncFunction"),A_=e=>e&&(Po(e)||Fe(e))&&Fe(e.then)&&Fe(e.catch),mp=((e,t)=>e?setImmediate:t?((n,r)=>(yn.addEventListener("message",({source:s,data:i})=>{s===yn&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),yn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Fe(yn.postMessage)),L_=typeof queueMicrotask<"u"?queueMicrotask.bind(yn):typeof process<"u"&&process.nextTick||mp,b={isArray:xr,isArrayBuffer:lp,isBuffer:Y1,isFormData:o_,isArrayBufferView:X1,isString:Z1,isNumber:cp,isBoolean:e_,isObject:Po,isPlainObject:hi,isReadableStream:l_,isRequest:c_,isResponse:u_,isHeaders:d_,isUndefined:vs,isDate:t_,isFile:n_,isBlob:r_,isRegExp:S_,isFunction:Fe,isStream:i_,isURLSearchParams:a_,isTypedArray:x_,isFileList:s_,forEach:Ps,merge:jl,extend:f_,trim:h_,stripBOM:m_,inherits:p_,toFlatObject:g_,kindOf:Eo,kindOfTest:at,endsWith:y_,toArray:v_,forEachEntry:w_,matchAll:__,isHTMLForm:j_,hasOwnProperty:Cd,hasOwnProp:Cd,reduceDescriptors:hp,freezeMethods:b_,toObjectSet:N_,toCamelCase:k_,noop:E_,toFiniteNumber:C_,findKey:up,global:yn,isContextDefined:dp,ALPHABET:fp,generateString:P_,isSpecCompliantForm:T_,toJSONObject:O_,isAsyncFn:R_,isThenable:A_,setImmediate:mp,asap:L_};function M(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}b.inherits(M,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.status}}});const pp=M.prototype,gp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{gp[e]={value:e}});Object.defineProperties(M,gp);Object.defineProperty(pp,"isAxiosError",{value:!0});M.from=(e,t,n,r,s,i)=>{const o=Object.create(pp);return b.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),M.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const D_=null;function kl(e){return b.isPlainObject(e)||b.isArray(e)}function yp(e){return b.endsWith(e,"[]")?e.slice(0,-2):e}function Td(e,t,n){return e?e.concat(t).map(function(s,i){return s=yp(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function M_(e){return b.isArray(e)&&!e.some(kl)}const I_=b.toFlatObject(b,{},null,function(t){return/^is[A-Z]/.test(t)});function To(e,t,n){if(!b.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=b.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,j){return!b.isUndefined(j[w])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(t);if(!b.isFunction(s))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(b.isDate(v))return v.toISOString();if(!c&&b.isBlob(v))throw new M("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(v)||b.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,w,j){let g=v;if(v&&!j&&typeof v=="object"){if(b.endsWith(w,"{}"))w=r?w:w.slice(0,-2),v=JSON.stringify(v);else if(b.isArray(v)&&M_(v)||(b.isFileList(v)||b.endsWith(w,"[]"))&&(g=b.toArray(v)))return w=yp(w),g.forEach(function(f,x){!(b.isUndefined(f)||f===null)&&t.append(o===!0?Td([w],x,i):o===null?w:w+"[]",u(f))}),!1}return kl(v)?!0:(t.append(Td(j,w,i),u(v)),!1)}const h=[],m=Object.assign(I_,{defaultVisitor:d,convertValue:u,isVisitable:kl});function y(v,w){if(!b.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(v),b.forEach(v,function(g,p){(!(b.isUndefined(g)||g===null)&&s.call(t,g,b.isString(p)?p.trim():p,w,m))===!0&&y(g,w?w.concat(p):[p])}),h.pop()}}if(!b.isObject(e))throw new TypeError("data must be an object");return y(e),t}function Od(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Mc(e,t){this._pairs=[],e&&To(e,this,t)}const vp=Mc.prototype;vp.append=function(t,n){this._pairs.push([t,n])};vp.toString=function(t){const n=t?function(r){return t.call(this,r,Od)}:Od;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function $_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xp(e,t,n){if(!t)return e;const r=n&&n.encode||$_;b.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=b.isURLSearchParams(t)?t.toString():new Mc(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Rd{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){b.forEach(this.handlers,function(r){r!==null&&t(r)})}}const wp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},U_=typeof URLSearchParams<"u"?URLSearchParams:Mc,F_=typeof FormData<"u"?FormData:null,z_=typeof Blob<"u"?Blob:null,B_={isBrowser:!0,classes:{URLSearchParams:U_,FormData:F_,Blob:z_},protocols:["http","https","file","blob","url","data"]},Ic=typeof window<"u"&&typeof document<"u",Sl=typeof navigator=="object"&&navigator||void 0,q_=Ic&&(!Sl||["ReactNative","NativeScript","NS"].indexOf(Sl.product)<0),W_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",H_=Ic&&window.location.href||"http://localhost",V_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ic,hasStandardBrowserEnv:q_,hasStandardBrowserWebWorkerEnv:W_,navigator:Sl,origin:H_},Symbol.toStringTag,{value:"Module"})),je={...V_,...B_};function J_(e,t){return To(e,new je.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return je.isNode&&b.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function K_(e){return b.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Q_(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function _p(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&b.isArray(s)?s.length:o,c?(b.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!b.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&b.isArray(s[o])&&(s[o]=Q_(s[o])),!l)}if(b.isFormData(e)&&b.isFunction(e.entries)){const n={};return b.forEachEntry(e,(r,s)=>{t(K_(r),s,n,0)}),n}return null}function G_(e,t,n){if(b.isString(e))try{return(t||JSON.parse)(e),b.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const Ts={transitional:wp,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=b.isObject(t);if(i&&b.isHTMLForm(t)&&(t=new FormData(t)),b.isFormData(t))return s?JSON.stringify(_p(t)):t;if(b.isArrayBuffer(t)||b.isBuffer(t)||b.isStream(t)||b.isFile(t)||b.isBlob(t)||b.isReadableStream(t))return t;if(b.isArrayBufferView(t))return t.buffer;if(b.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return J_(t,this.formSerializer).toString();if((l=b.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return To(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),G_(t)):t}],transformResponse:[function(t){const n=this.transitional||Ts.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(b.isResponse(t)||b.isReadableStream(t))return t;if(t&&b.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?M.from(l,M.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:je.classes.FormData,Blob:je.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],e=>{Ts.headers[e]={}});const Y_=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),X_=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&Y_[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Ad=Symbol("internals");function Ar(e){return e&&String(e).trim().toLowerCase()}function fi(e){return e===!1||e==null?e:b.isArray(e)?e.map(fi):String(e)}function Z_(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const ej=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ga(e,t,n,r,s){if(b.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!b.isString(t)){if(b.isString(r))return t.indexOf(r)!==-1;if(b.isRegExp(r))return r.test(t)}}function tj(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function nj(e,t){const n=b.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}class De{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(l,c,u){const d=Ar(c);if(!d)throw new Error("header name must be a non-empty string");const h=b.findKey(s,d);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||c]=fi(l))}const o=(l,c)=>b.forEach(l,(u,d)=>i(u,d,c));if(b.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(b.isString(t)&&(t=t.trim())&&!ej(t))o(X_(t),n);else if(b.isHeaders(t))for(const[l,c]of t.entries())i(c,l,r);else t!=null&&i(n,t,r);return this}get(t,n){if(t=Ar(t),t){const r=b.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return Z_(s);if(b.isFunction(n))return n.call(this,s,r);if(b.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ar(t),t){const r=b.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ga(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Ar(o),o){const l=b.findKey(r,o);l&&(!n||ga(r,r[l],l,n))&&(delete r[l],s=!0)}}return b.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||ga(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return b.forEach(this,(s,i)=>{const o=b.findKey(r,i);if(o){n[o]=fi(s),delete n[i];return}const l=t?tj(i):String(i).trim();l!==i&&delete n[i],n[l]=fi(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return b.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&b.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Ad]=this[Ad]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Ar(o);r[l]||(nj(s,o),r[l]=!0)}return b.isArray(t)?t.forEach(i):i(t),this}}De.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.reduceDescriptors(De.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});b.freezeMethods(De);function ya(e,t){const n=this||Ts,r=t||n,s=De.from(r.headers);let i=r.data;return b.forEach(e,function(l){i=l.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function jp(e){return!!(e&&e.__CANCEL__)}function wr(e,t,n){M.call(this,e??"canceled",M.ERR_CANCELED,t,n),this.name="CanceledError"}b.inherits(wr,M,{__CANCEL__:!0});function kp(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new M("Request failed with status code "+n.status,[M.ERR_BAD_REQUEST,M.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function rj(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function sj(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[i];o||(o=u),n[s]=c,r[s]=u;let h=i,m=0;for(;h!==s;)m+=n[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const y=d&&u-d;return y?Math.round(m*1e3/y):void 0}}function ij(e,t){let n=0,r=1e3/t,s,i;const o=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-h)))},()=>s&&o(s)]}const Ji=(e,t,n=3)=>{let r=0;const s=sj(50,250);return ij(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,u=s(c),d=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},Ld=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Dd=e=>(...t)=>b.asap(()=>e(...t)),oj=je.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,je.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(je.origin),je.navigator&&/(msie|trident)/i.test(je.navigator.userAgent)):()=>!0,aj=je.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];b.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),b.isString(r)&&o.push("path="+r),b.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lj(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function cj(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Sp(e,t){return e&&!lj(t)?cj(e,t):t}const Md=e=>e instanceof De?{...e}:e;function En(e,t){t=t||{};const n={};function r(u,d,h,m){return b.isPlainObject(u)&&b.isPlainObject(d)?b.merge.call({caseless:m},u,d):b.isPlainObject(d)?b.merge({},d):b.isArray(d)?d.slice():d}function s(u,d,h,m){if(b.isUndefined(d)){if(!b.isUndefined(u))return r(void 0,u,h,m)}else return r(u,d,h,m)}function i(u,d){if(!b.isUndefined(d))return r(void 0,d)}function o(u,d){if(b.isUndefined(d)){if(!b.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,h){if(h in t)return r(u,d);if(h in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>s(Md(u),Md(d),h,!0)};return b.forEach(Object.keys(Object.assign({},e,t)),function(d){const h=c[d]||s,m=h(e[d],t[d],d);b.isUndefined(m)&&h!==l||(n[d]=m)}),n}const bp=e=>{const t=En({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=De.from(o),t.url=xp(Sp(t.baseURL,t.url),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(b.isFormData(n)){if(je.hasStandardBrowserEnv||je.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(je.hasStandardBrowserEnv&&(r&&b.isFunction(r)&&(r=r(t)),r||r!==!1&&oj(t.url))){const u=s&&i&&aj.read(i);u&&o.set(s,u)}return t},uj=typeof XMLHttpRequest<"u",dj=uj&&function(e){return new Promise(function(n,r){const s=bp(e);let i=s.data;const o=De.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,h,m,y,v;function w(){y&&y(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let j=new XMLHttpRequest;j.open(s.method.toUpperCase(),s.url,!0),j.timeout=s.timeout;function g(){if(!j)return;const f=De.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:f,config:e,request:j};kp(function(S){n(S),w()},function(S){r(S),w()},_),j=null}"onloadend"in j?j.onloadend=g:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(g)},j.onabort=function(){j&&(r(new M("Request aborted",M.ECONNABORTED,e,j)),j=null)},j.onerror=function(){r(new M("Network Error",M.ERR_NETWORK,e,j)),j=null},j.ontimeout=function(){let x=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||wp;s.timeoutErrorMessage&&(x=s.timeoutErrorMessage),r(new M(x,_.clarifyTimeoutError?M.ETIMEDOUT:M.ECONNABORTED,e,j)),j=null},i===void 0&&o.setContentType(null),"setRequestHeader"in j&&b.forEach(o.toJSON(),function(x,_){j.setRequestHeader(_,x)}),b.isUndefined(s.withCredentials)||(j.withCredentials=!!s.withCredentials),l&&l!=="json"&&(j.responseType=s.responseType),u&&([m,v]=Ji(u,!0),j.addEventListener("progress",m)),c&&j.upload&&([h,y]=Ji(c),j.upload.addEventListener("progress",h),j.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(d=f=>{j&&(r(!f||f.type?new wr(null,e,j):f),j.abort(),j=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const p=rj(s.url);if(p&&je.protocols.indexOf(p)===-1){r(new M("Unsupported protocol "+p+":",M.ERR_BAD_REQUEST,e));return}j.send(i||null)})},hj=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof M?d:new wr(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new M(`timeout ${t} of ms exceeded`,M.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>b.asap(l),c}},fj=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},mj=async function*(e,t){for await(const n of pj(e))yield*fj(n,t)},pj=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Id=(e,t,n,r)=>{const s=mj(e,t);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let h=d.byteLength;if(n){let m=i+=h;n(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},Oo=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Np=Oo&&typeof ReadableStream=="function",gj=Oo&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Ep=(e,...t)=>{try{return!!e(...t)}catch{return!1}},yj=Np&&Ep(()=>{let e=!1;const t=new Request(je.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),$d=64*1024,bl=Np&&Ep(()=>b.isReadableStream(new Response("").body)),Ki={stream:bl&&(e=>e.body)};Oo&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ki[t]&&(Ki[t]=b.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new M(`Response type '${t}' is not supported`,M.ERR_NOT_SUPPORT,r)})})})(new Response);const vj=async e=>{if(e==null)return 0;if(b.isBlob(e))return e.size;if(b.isSpecCompliantForm(e))return(await new Request(je.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(b.isArrayBufferView(e)||b.isArrayBuffer(e))return e.byteLength;if(b.isURLSearchParams(e)&&(e=e+""),b.isString(e))return(await gj(e)).byteLength},xj=async(e,t)=>{const n=b.toFiniteNumber(e.getContentLength());return n??vj(t)},wj=Oo&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:m}=bp(e);u=u?(u+"").toLowerCase():"text";let y=hj([s,i&&i.toAbortSignal()],o),v;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let j;try{if(c&&yj&&n!=="get"&&n!=="head"&&(j=await xj(d,r))!==0){let _=new Request(t,{method:"POST",body:r,duplex:"half"}),N;if(b.isFormData(r)&&(N=_.headers.get("content-type"))&&d.setContentType(N),_.body){const[S,P]=Ld(j,Ji(Dd(c)));r=Id(_.body,$d,S,P)}}b.isString(h)||(h=h?"include":"omit");const g="credentials"in Request.prototype;v=new Request(t,{...m,signal:y,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:g?h:void 0});let p=await fetch(v);const f=bl&&(u==="stream"||u==="response");if(bl&&(l||f&&w)){const _={};["status","statusText","headers"].forEach(L=>{_[L]=p[L]});const N=b.toFiniteNumber(p.headers.get("content-length")),[S,P]=l&&Ld(N,Ji(Dd(l),!0))||[];p=new Response(Id(p.body,$d,S,()=>{P&&P(),w&&w()}),_)}u=u||"text";let x=await Ki[b.findKey(Ki,u)||"text"](p,e);return!f&&w&&w(),await new Promise((_,N)=>{kp(_,N,{data:x,headers:De.from(p.headers),status:p.status,statusText:p.statusText,config:e,request:v})})}catch(g){throw w&&w(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new M("Network Error",M.ERR_NETWORK,e,v),{cause:g.cause||g}):M.from(g,g&&g.code,e,v)}}),Nl={http:D_,xhr:dj,fetch:wj};b.forEach(Nl,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ud=e=>`- ${e}`,_j=e=>b.isFunction(e)||e===null||e===!1,Cp={getAdapter:e=>{e=b.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!_j(n)&&(r=Nl[(o=String(n)).toLowerCase()],r===void 0))throw new M(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Ud).join(`
`):" "+Ud(i[0]):"as no adapter specified";throw new M("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Nl};function va(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new wr(null,e)}function Fd(e){return va(e),e.headers=De.from(e.headers),e.data=ya.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Cp.getAdapter(e.adapter||Ts.adapter)(e).then(function(r){return va(e),r.data=ya.call(e,e.transformResponse,r),r.headers=De.from(r.headers),r},function(r){return jp(r)||(va(e),r&&r.response&&(r.response.data=ya.call(e,e.transformResponse,r.response),r.response.headers=De.from(r.response.headers))),Promise.reject(r)})}const Pp="1.7.9",Ro={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ro[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const zd={};Ro.transitional=function(t,n,r){function s(i,o){return"[Axios v"+Pp+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new M(s(o," has been removed"+(n?" in "+n:"")),M.ERR_DEPRECATED);return n&&!zd[o]&&(zd[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};Ro.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function jj(e,t,n){if(typeof e!="object")throw new M("options must be an object",M.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new M("option "+i+" must be "+c,M.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new M("Unknown option "+i,M.ERR_BAD_OPTION)}}const mi={assertOptions:jj,validators:Ro},ct=mi.validators;class wn{constructor(t){this.defaults=t,this.interceptors={request:new Rd,response:new Rd}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=En(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&mi.assertOptions(r,{silentJSONParsing:ct.transitional(ct.boolean),forcedJSONParsing:ct.transitional(ct.boolean),clarifyTimeoutError:ct.transitional(ct.boolean)},!1),s!=null&&(b.isFunction(s)?n.paramsSerializer={serialize:s}:mi.assertOptions(s,{encode:ct.function,serialize:ct.function},!0)),mi.assertOptions(n,{baseUrl:ct.spelling("baseURL"),withXsrfToken:ct.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&b.merge(i.common,i[n.method]);i&&b.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=De.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,h=0,m;if(!c){const v=[Fd.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,u),m=v.length,d=Promise.resolve(n);h<m;)d=d.then(v[h++],v[h++]);return d}m=l.length;let y=n;for(h=0;h<m;){const v=l[h++],w=l[h++];try{y=v(y)}catch(j){w.call(this,j);break}}try{d=Fd.call(this,y)}catch(v){return Promise.reject(v)}for(h=0,m=u.length;h<m;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=En(this.defaults,t);const n=Sp(t.baseURL,t.url);return xp(n,t.params,t.paramsSerializer)}}b.forEach(["delete","get","head","options"],function(t){wn.prototype[t]=function(n,r){return this.request(En(r||{},{method:t,url:n,data:(r||{}).data}))}});b.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,l){return this.request(En(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}wn.prototype[t]=n(),wn.prototype[t+"Form"]=n(!0)});class $c{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new wr(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new $c(function(s){t=s}),cancel:t}}}function kj(e){return function(n){return e.apply(null,n)}}function Sj(e){return b.isObject(e)&&e.isAxiosError===!0}const El={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(El).forEach(([e,t])=>{El[t]=e});function Tp(e){const t=new wn(e),n=ap(wn.prototype.request,t);return b.extend(n,wn.prototype,t,{allOwnKeys:!0}),b.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Tp(En(e,s))},n}const le=Tp(Ts);le.Axios=wn;le.CanceledError=wr;le.CancelToken=$c;le.isCancel=jp;le.VERSION=Pp;le.toFormData=To;le.AxiosError=M;le.Cancel=le.CanceledError;le.all=function(t){return Promise.all(t)};le.spread=kj;le.isAxiosError=Sj;le.mergeConfig=En;le.AxiosHeaders=De;le.formToJSON=e=>_p(b.isHTMLForm(e)?new FormData(e):e);le.getAdapter=Cp.getAdapter;le.HttpStatusCode=El;le.default=le;function Op(){const e="Admin",t=X(),{id:n}=Ss(),[r,s]=k.useState(null),[i,o]=k.useState(!0),[l,c]=k.useState([]),[u,d]=k.useState(!1),h=async()=>{try{await T.auth.signOut(),t("/login")}catch(v){console.error("Error signing out:",v)}};k.useEffect(()=>{n?m():(console.error("Customer ID is missing in the URL."),alert("Invalid customer ID. Please check the URL."),t("/"))},[n]),k.useEffect(()=>{r&&y(r)},[r]);async function m(){try{o(!0);const{data:v,error:w}=await T.from("customers").select("id, name, email, affiliation, specialty, phone, address").eq("id",n).single();if(w)throw w;s(v)}catch(v){console.error("Error fetching customer details:",v),alert("Error fetching customer details. Please try again later.")}finally{o(!1)}}async function y(v){try{d(!0);const w=`${v.name} ${v.affiliation} ${v.address} ${v.specialty} research work`,g=(await le.post("http://127.0.0.1:5000/analyze-research",{doctor_name:w})).data;g.length===1&&g[0].summary==="No research papers found for this doctor."?c([{url:"N/A",summary:"No research papers found for this doctor."}]):c(g)}catch(w){console.error("Error fetching summary:",w),c([{url:"N/A",summary:"Error fetching summary. Please try again later."}])}finally{d(!1)}}return i?a.jsx("div",{className:"text-center",children:"Loading..."}):r?a.jsxs(a.Fragment,{children:[a.jsx(We,{userRole:e,handleSignOut:h}),a.jsxs("div",{className:"flex flex-wrap p-8 gap-4",children:[a.jsx("div",{className:"w-1/4 p-4 border rounded shadow",children:a.jsx("h2",{className:"text-lg font-semibold",children:"CTMS (table 1)"})}),a.jsx("div",{className:"w-1/4 p-4 border rounded shadow",children:a.jsx("h2",{className:"text-lg font-semibold",children:"DSG (table 2)"})}),a.jsx("div",{className:"w-1/4 p-4 border rounded shadow",style:{height:"500px",overflowY:"auto"},children:a.jsx("h2",{className:"text-lg font-semibold",children:"MA (table 3)"})}),a.jsxs("div",{className:"w-2/4 p-4 border rounded shadow",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Public Info (table 4)"}),u?a.jsx("p",{children:"Fetching summary..."}):a.jsx("div",{className:"space-y-4",children:l.map((v,w)=>a.jsxs("div",{className:"p-2 border rounded",children:[a.jsx("p",{className:"text-sm text-blue-600 break-words",children:a.jsx("a",{href:v.url,target:"_blank",rel:"noopener noreferrer",children:v.url})}),a.jsx("p",{className:"text-sm mt-2",children:v.summary})]},w))})]}),a.jsxs("div",{className:"w-1/4 p-4 border rounded shadow",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Basic Details"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Name:"})," ",r.name]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Address:"})," ",r.address]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Phone:"})," ",r.phone]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Email:"})," ",r.email]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Affiliation:"})," ",r.affiliation]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Specialty:"})," ",r.specialty]})]})]})]})]}):a.jsx("div",{className:"text-center",children:"Customer not found"})}function bj(){const e=X();async function t(){try{await T.auth.signOut(),e("/maindashboard")}catch(n){console.error("Error signing out:",n)}}return a.jsx("div",{className:"min-h-screen bg-gray-100",children:a.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:a.jsxs(Nc,{children:[a.jsx(A,{path:"/users",element:a.jsx(Bi,{})}),a.jsx(A,{path:"/users/new",element:a.jsx(qi,{})}),a.jsx(A,{path:"/users/:id",element:a.jsx(qi,{})}),a.jsx(A,{path:"/maindashboard",element:a.jsx(gs,{})}),a.jsx(A,{path:"/admindashboard",element:a.jsx(op,{handleSignOut:t})}),a.jsx(A,{path:"/userdash",element:a.jsx(Bi,{})}),a.jsx(A,{path:"/adminlogin",element:a.jsx(Lc,{})}),a.jsx(A,{path:"/",element:a.jsx(ep,{})}),a.jsx(A,{path:"/customers",element:a.jsx(qm,{})}),a.jsx(A,{path:"/customers/:id",element:a.jsx(Wm,{})}),a.jsx(A,{path:"/interactions",element:a.jsx(Qm,{})}),a.jsx(A,{path:"/interactions/new",element:a.jsx(Hi,{})}),a.jsx(A,{path:"/interactions/:id",element:a.jsx(Hi,{})}),a.jsx(A,{path:"/tasks",element:a.jsx(Gm,{})}),a.jsx(A,{path:"/tasks/new",element:a.jsx(Vi,{})}),a.jsx(A,{path:"/tasks/:id",element:a.jsx(Vi,{})}),a.jsx(A,{path:"/previsit",element:a.jsx(Ym,{})}),a.jsx(A,{path:"/previsit/:id",element:a.jsx(Xm,{})}),a.jsx(A,{path:"/datasources",element:a.jsx(Zm,{})}),a.jsx(A,{path:"/dashboard/msl",element:a.jsx(rp,{})}),a.jsx(A,{path:"/dashboard/manager",element:a.jsx(sp,{})}),a.jsx(A,{path:"/maindashboard",element:a.jsx(gs,{})}),a.jsx(A,{path:"/admin/signup",element:a.jsx(Ac,{})}),a.jsx(A,{path:"/chat",element:a.jsx(ip,{})}),a.jsx(A,{path:"/customerdetails/:id",element:a.jsx(Op,{})})]})})})}function Nj(){const e=X(),{user:t}=wo(),[n,r]=fn.useState(null);fn.useEffect(()=>{async function i(){if(t){const{data:o,error:l}=await T.from("users").select("role").eq("id",t.id).single();!l&&o&&r(o.role)}}i()},[t]);async function s(){try{await T.auth.signOut(),e("/login")}catch(i){console.error("Error signing out:",i)}}return a.jsx("div",{className:"min-h-screen bg-gray-100",children:a.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:a.jsxs(Nc,{children:[a.jsx(A,{path:"/users",element:a.jsx(Bi,{})}),a.jsx(A,{path:"/users/new",element:a.jsx(qi,{})}),a.jsx(A,{path:"/users/:id",element:a.jsx(qi,{})}),a.jsx(A,{path:"/maindashboard",element:a.jsx(gs,{})}),a.jsx(A,{path:"/admindashboard",element:a.jsx(op,{handleSignOut:s})}),a.jsx(A,{path:"/userdash",element:a.jsx(Bi,{})}),a.jsx(A,{path:"/adminlogin",element:a.jsx(Lc,{})}),a.jsx(A,{path:"/",element:a.jsx(ep,{})}),a.jsx(A,{path:"/customers",element:a.jsx(qm,{})}),a.jsx(A,{path:"/customers/:id",element:a.jsx(Wm,{})}),a.jsx(A,{path:"/interactions",element:a.jsx(Qm,{})}),a.jsx(A,{path:"/interactions/new",element:a.jsx(Hi,{})}),a.jsx(A,{path:"/interactions/:id",element:a.jsx(Hi,{})}),a.jsx(A,{path:"/tasks",element:a.jsx(Gm,{})}),a.jsx(A,{path:"/tasks/new",element:a.jsx(Vi,{})}),a.jsx(A,{path:"/tasks/:id",element:a.jsx(Vi,{})}),a.jsx(A,{path:"/previsit",element:a.jsx(Ym,{})}),a.jsx(A,{path:"/previsit/:id",element:a.jsx(Xm,{})}),a.jsx(A,{path:"/datasources",element:a.jsx(Zm,{})}),a.jsx(A,{path:"/dashboard/msl",element:a.jsx(rp,{})}),a.jsx(A,{path:"/dashboard/manager",element:a.jsx(sp,{})}),a.jsx(A,{path:"/maindashboard",element:a.jsx(gs,{})}),a.jsx(A,{path:"/admin/signup",element:a.jsx(Ac,{})}),a.jsx(A,{path:"/chat",element:a.jsx(ip,{})}),a.jsx(A,{path:"/customerdetails/:id",element:a.jsx(Op,{})})]})})})}function Ej(){const{user:e}=wo(),[t,n]=fn.useState(null),[r,s]=fn.useState(!0),[i,o]=fn.useState(null);return fn.useEffect(()=>{async function l(){try{if(!e){n(!1),s(!1);return}const{data:c,error:u}=await T.from("admins").select("*").eq("auth_id",e.id);if(u)throw u;n(c&&c.length>0),o(null)}catch(c){console.error("Error checking admin status:",c),o("Unable to verify admin status. Please try again later."),n(!1)}finally{s(!1)}}l()},[e]),r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):i?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsx("div",{className:"max-w-md w-full mx-auto p-6 bg-white rounded-lg shadow-md",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-2",children:"Connection Error"}),a.jsx("p",{className:"text-gray-600 mb-4",children:i}),a.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Retry Connection"})]})})}):e?t?a.jsx(bj,{}):a.jsx(Nj,{}):a.jsxs(Nc,{children:[a.jsx(A,{path:"/admin/signup",element:a.jsx(Ac,{})}),a.jsx(A,{path:"/adminlogin",element:a.jsx(Lc,{})}),a.jsx(A,{path:"/login",element:a.jsx(Rw,{})}),a.jsx(A,{path:"*",element:a.jsx(Yy,{to:"/login",replace:!0})})]})}function Cj(){return a.jsx(iv,{children:a.jsx(xw,{children:a.jsx(Ej,{})})})}tm(document.getElementById("root")).render(a.jsx(k.StrictMode,{children:a.jsx(Cj,{})}));export{Lp as g};
